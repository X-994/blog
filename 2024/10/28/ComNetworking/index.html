

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="/null">
  <link rel="icon" href="/null">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="X-994">
  <meta name="keywords" content="">
  
    <meta name="description" content="B站up主方老师的听课笔记">
<meta property="og:type" content="article">
<meta property="og:title" content="计算机网络">
<meta property="og:url" content="http://example.com/2024/10/28/ComNetworking/index.html">
<meta property="og:site_name" content="Blog">
<meta property="og:description" content="B站up主方老师的听课笔记">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/ComNetworking/1.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/2.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/3.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/4.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/5.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/6.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/7.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/8.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/9.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/10.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/11.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/12.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/13.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/14.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/15.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/16.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/17.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/18.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/19.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/20.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/21.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/22.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/23.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/24.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/25.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/26.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/27.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/28.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/29.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/30.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/31.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/32.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/33.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/34.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/35.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/36.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/37.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/38.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/39.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/40.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/41.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/42.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/43.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/44.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/45.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/46.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/47.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/48.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/49.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/50.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/51.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/52.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/53.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/54.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/55.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/56.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/57.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/58.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/59.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/60.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/61.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/62.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/63.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/64.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/65.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/66.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/67.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/68.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/69.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/70.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/71.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/72.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/73.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/74.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/75.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/79.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/80.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/81.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/80.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/83.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/84.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/85.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/76.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/77.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/78.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/86.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/87.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/88.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/89.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/90.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/91.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/92.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/93.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/94.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/95.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/96.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/97.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/98.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/99.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/100.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/101.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/102.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/103.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/104.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/105.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/109.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/110.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/110.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/113.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/106.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/107.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/107.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/112.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/114.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/115.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/116.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/117.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/118.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/119.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/120.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/121.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/122.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/123.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/124.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/125.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/126.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/127.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/128.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/129.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/130.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/131.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/132.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/133.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/134.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/135.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/136.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/137.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/138.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/139.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/140.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/141.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/142.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/143.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/144.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/145.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/146.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/147.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/148.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/149.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/150.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/151.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/152.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/153.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/154.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/155.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/156.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/157.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/158.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/159.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/160.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/161.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/162.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/163.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/164.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/165.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/166.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/167.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/168.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/169.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/170.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/171.png">
<meta property="og:image" content="http://example.com/img/ComNetworking/172.png">
<meta property="article:published_time" content="2024-10-28T10:41:36.000Z">
<meta property="article:modified_time" content="2024-11-10T09:15:48.237Z">
<meta property="article:author" content="X-994">
<meta property="article:tag" content="网络编程">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://example.com/img/ComNetworking/1.png">
  
  
  
  <title>计算机网络 - Blog</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  



  
<link rel="stylesheet" href="/css/mk.css">
<link rel="stylesheet" href="/css/scrollAnimation.css">
<link rel="stylesheet" href="/css/selection.css">



  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.8","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":null}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 7.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.jpg') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="计算机网络"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2024-10-28 18:41" pubdate>
          2024年10月28日 晚上
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          20k 字
        
      </span>
    

    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">计算机网络</h1>
            
            
              <div class="markdown-body">
                
                <h1 id="概叙"><a href="#概叙" class="headerlink" title="概叙"></a>概叙</h1><h2 id="互联网概叙"><a href="#互联网概叙" class="headerlink" title="互联网概叙"></a>互联网概叙</h2><h3 id="计算机网络的构成"><a href="#计算机网络的构成" class="headerlink" title="计算机网络的构成"></a>计算机网络的构成</h3><ul>
<li>计算机网络：<ul>
<li>由若干节点和连接这些节点的链路组成</li>
<li>节点可以是计算机、集线器、交换机或者路由器等</li>
</ul>
</li>
</ul>
<p>链路：是传递信息的通道<br><img src="/../img/ComNetworking/1.png" srcset="/img/loading.gif" lazyload></p>
<ul>
<li>互联网：特指覆盖全球的，具有连通性和资源共享的计算机网络<ul>
<li>多个网络通过一些路由器互相连接起来，构成一个覆盖范围更大的计算机网络</li>
<li>网络的网络</li>
</ul>
</li>
</ul>
<h3 id="互联网的组成"><a href="#互联网的组成" class="headerlink" title="互联网的组成"></a>互联网的组成</h3><h4 id="边缘部分："><a href="#边缘部分：" class="headerlink" title="边缘部分："></a>边缘部分：</h4><p>描述：由所有连接在互联网上的主机(端系统）组成，由用户直接使用，用来进行通信（传送数据、音频或视频）和资源共享</p>
<ul>
<li>终端系统不负责数据的转发(桌面计算机，移动计算机，服务器，其他智能终端设备)</li>
</ul>
<p><img src="/../img/ComNetworking/2.png" srcset="/img/loading.gif" lazyload><br>计算机之间的通信：主机A的某个进程和主机B上的另外一个进程行通信</p>
<p>端系统之间的通信方式</p>
<ul>
<li>客户&#x2F;服务器方式(C&#x2F;S方式)<ul>
<li>进程之间的服务和被服务的关系<br><img src="/../img/ComNetworking/3.png" srcset="/img/loading.gif" lazyload></li>
<li>通信可以是双向的，客户和服务器都可发送和接受数据</li>
<li>客户程序<ul>
<li>被用户<strong>调用运行</strong>，需<strong>主动</strong>向远地服务器发起通信。必须知道服务器程序的地址</li>
<li>不需要特许的硬件和很复杂的操作系统</li>
</ul>
</li>
<li>服务器程序<ul>
<li>专门用来提供方某种服务的程序，可同时处理多个客户请求</li>
<li>一直<strong>不断运行着，被动等待</strong>并接受来自各地的用户的通信请求，不知道客户程序的地址</li>
<li>需要强大的硬件和高级操作系统支持</li>
</ul>
</li>
</ul>
</li>
<li>对等方式(P2P方式)<ul>
<li>两台主机在通信时不区分服务请求方和服务提供方</li>
<li>只要都运行P2P软件，就可以进行平等的，对等连接通信</li>
<li>从本质来看依旧是<strong>使用客户服务器方式</strong><br><img src="/../img/ComNetworking/4.png" srcset="/img/loading.gif" lazyload></li>
</ul>
</li>
</ul>
<h4 id="核心部分"><a href="#核心部分" class="headerlink" title="核心部分:"></a>核心部分:</h4><p>描述：由大量网络和连接这些网络的路由器组成，为边缘部分提供服务（提供连通性和交换）</p>
<ul>
<li>是互联网中最复杂的部分</li>
<li>向网络边缘中的主机<strong>提供连通性</strong>，使任何一台主机都能够向其他主机通信</li>
<li>在网络核心部分起特殊作用的是<strong>路由器</strong></li>
<li>路由器是实现<strong>分组交换</strong>的关键构建，其任务是<strong>转发</strong>收到的分组。<strong>分组转发</strong>是网络核心部分的最重要的功能</li>
</ul>
<p><img src="/../img/ComNetworking/5.png" srcset="/img/loading.gif" lazyload></p>
<ul>
<li>典型交换技术<ul>
<li>电路交换<ul>
<li>每一个电话都直接连接到交换机上，而交换机使用交换的方法，让电话用户彼此之间还可以很方便地通信<br><img src="/../img/ComNetworking/6.png" srcset="/img/loading.gif" lazyload></li>
<li><strong>转换地含义是转接</strong>，是按照某种方式动态分配传输线路地资源</li>
<li>分为三个阶段<ul>
<li>建立连接(占用通信资源)</li>
<li>通话(一直占用通信资源)</li>
<li>释放连接(归还通信资源)</li>
</ul>
</li>
<li>通话地两个用户始终占用端到端地通信资源<br><img src="/../img/ComNetworking/7.png" srcset="/img/loading.gif" lazyload></li>
<li>计算机数据<strong>具有突发性</strong>，通信线路利用率很低</li>
</ul>
</li>
<li>分组交换<ul>
<li>采用<strong>存储转发</strong>技术<br><img src="/../img/ComNetworking/8.png" srcset="/img/loading.gif" lazyload><ul>
<li>数据段前面添加首部构成分组<br><img src="/../img/ComNetworking/9.png" srcset="/img/loading.gif" lazyload></li>
</ul>
</li>
<li>互联网采用分组交换技术，分组交换以“<strong>分组</strong>”作为数据传输单元</li>
<li>分组在<strong>互联网中传送</strong>的数据单元</li>
<li>发送端<strong>依次</strong>把各分组发送到接收端<ul>
<li>接收端收到分组后剥去首部，还原成原来的报文</li>
</ul>
</li>
<li>分组在互联网中的转发<ul>
<li>根据<strong>首部</strong>中包含的目的地址、源地址等重要控制信息进行转发</li>
<li>每一个分组在互联网中<strong>独立选择</strong>传输路径</li>
<li>位于网络核心部分<strong>路由器负责转发分组</strong>，即分组交换</li>
<li>路由器要创建和动态维护<strong>转发表</strong><br><img src="/../img/ComNetworking/10.png" srcset="/img/loading.gif" lazyload></li>
</ul>
</li>
<li>每个分组独立选择传输路径<br><img src="/../img/ComNetworking/11.png" srcset="/img/loading.gif" lazyload></li>
<li>优点<br><img src="/../img/ComNetworking/12.png" srcset="/img/loading.gif" lazyload></li>
<li>缺点<br><img src="/../img/ComNetworking/13.png" srcset="/img/loading.gif" lazyload></li>
</ul>
</li>
<li>报文交换<ul>
<li>基于存储转发原理的报文交换</li>
<li>时延较长，从几分钟到几小时不等</li>
<li>现在 很少人使用</li>
</ul>
</li>
<li>主要区别<br><img src="/../img/ComNetworking/14.png" srcset="/img/loading.gif" lazyload></li>
</ul>
</li>
<li>互联网的核心部分采用<strong>分组交换技术</strong></li>
</ul>
<h2 id="网络的定义、分类以及性能"><a href="#网络的定义、分类以及性能" class="headerlink" title="网络的定义、分类以及性能"></a>网络的定义、分类以及性能</h2><h3 id="计算机网络的定义"><a href="#计算机网络的定义" class="headerlink" title="计算机网络的定义"></a>计算机网络的定义</h3><ul>
<li>主要是由一些通用的，可编程的硬件互连而成的，而这些硬件并非专门实现某一特定目的(传输数据或视频信号等)这些可编程的硬件能够用来传送多种<strong>不同类型的数据</strong>，并能支持广泛的和日益增长的应用</li>
<li>“可编程硬件”表明：这种硬件一点包含有中央处理器CPU</li>
<li>计算机网络所连接的硬件包括：</li>
<li>一般的计算机</li>
<li>智能手机，电视</li>
<li>计算机网络还可以<ul>
<li>传送数据</li>
<li>资源共享</li>
<li>支持多种应用</li>
</ul>
</li>
</ul>
<h3 id="计算机分类"><a href="#计算机分类" class="headerlink" title="计算机分类"></a>计算机分类</h3><ul>
<li>按照网络作用范围<br><img src="/../img/ComNetworking/15.png" srcset="/img/loading.gif" lazyload></li>
<li>按照网络使用者<br><img src="/../img/ComNetworking/16.png" srcset="/img/loading.gif" lazyload></li>
<li>用来把用户接入互联网的网络<br><img src="/../img/ComNetworking/17.png" srcset="/img/loading.gif" lazyload></li>
<li>拓扑结构<ul>
<li>根据网络设备的连接关系</li>
</ul>
</li>
</ul>
<h3 id="计算机网络性能"><a href="#计算机网络性能" class="headerlink" title="计算机网络性能"></a>计算机网络性能</h3><h4 id="性能指标"><a href="#性能指标" class="headerlink" title="性能指标"></a>性能指标</h4><p><img src="/../img/ComNetworking/18.png" srcset="/img/loading.gif" lazyload></p>
<ul>
<li>速率<ul>
<li><strong>比特成为信息中的基本单位</strong> </li>
<li>速率是指<strong>数据传送速率</strong>，也称为<strong>数据率</strong>或<strong>比特率</strong>，在理想状态下，一定时间内网络信息能通过最大数据量</li>
<li>单位：bit&#x2F;s,kbit&#x2F;s,Mbit&#x2F;s,Gbit&#x2F;s等</li>
<li>速率往往是指<strong>额定速率</strong>或<strong>标称速率</strong>，非实际运行速率</li>
</ul>
</li>
<li>带宽</li>
<li>频域<ul>
<li>某个信道具有的频带宽度</li>
<li>单位是赫</li>
<li>某通信道允许通过的信号频带范围称为该信道的带宽</li>
</ul>
</li>
<li>时域<ul>
<li>网络中某通道传送数据的能力，表示单位时间内网络中的某信道等通过的”最高数据率”</li>
<li>单位就是数据率的单位bit&#x2F;s</li>
</ul>
</li>
<li>吞吐量 <ul>
<li>单位时间内通过某个网络的实际数据量</li>
<li>受网络的带宽或者网络的额定速率限制<ul>
<li>额定速率是绝对上限值</li>
<li>可能会远小于额定速率，甚至下降道零</li>
</ul>
</li>
</ul>
</li>
<li>时延<ul>
<li>数据(一个报文或者分组，甚至比特)从网络(或链路)的<strong>一端传送到另外一段所需</strong>的时间 </li>
<li>包括 总时延(单边) &#x3D; 发生时延 + 传播时延 + 处理时延 + 排队时延<ul>
<li>发生时延<ul>
<li>主机或路由器发生数据帧所需要的时间，也就是从发送数据帧的第一个比特算起，到该帧的最后一个比特发送完毕所需的时间</li>
<li>发生时延&#x3D;数据帧长度(bit) &#x2F; 发送速率(bit&#x2F;s)</li>
<li>发生在机器内部的发送器中，与传输信道的长度(或信号传输的距离)没有任何关系</li>
</ul>
</li>
<li>传播时延<ul>
<li>电磁波在信道中传播一定的距离需要花费的时间</li>
<li>传播时延&#x3D;信道长度(m) &#x2F; 信号在信道上的传播速率(m&#x2F;s)</li>
<li>发送在机器外部的传输信道媒体上，而与信号的发送速率无关。信号传送的距离越远，传播时延就越大</li>
</ul>
</li>
<li>处理时延<ul>
<li>主机或路由器在收到分组时，为处理分组所花费的时间</li>
</ul>
</li>
<li>排队时延<ul>
<li>分组在路由器输入输出中排队等待处理和转发所经历的时延</li>
<li>取决于网络中当时的通信量，当通信量很大时会发生队列溢出，使分组丢失，这相当于排队时延为无穷大</li>
</ul>
</li>
<li>在总时延中，究竟是哪一种时延占主导地位，必须具体分析</li>
<li>在高速网络链路，我们<strong>提高的仅仅是数据的发生速率</strong>，而不是比特在链路上的传播速率</li>
<li>提高数据的发生速率<strong>只是减小了数据的发生时延</strong></li>
</ul>
</li>
<li>时延带宽积 <ul>
<li>时延带宽积 &#x3D; 传播时延*带宽，即比特计数的链路长度 </li>
<li>管道中的比特数表示从发生端发生但尚未到达接收端的比特数</li>
<li>只有在代表链路的管道都充满比特时，链路才得到了充分利用</li>
</ul>
</li>
<li>往返时间RTT<ul>
<li>表示发送方发送完数据，到发送方收到来自接收方的确认共经历的时间</li>
<li>有效数据率 &#x3D; 数据长度&#x2F;(发送时间 + RTT)</li>
</ul>
</li>
<li>利用率<ul>
<li>信道利用率是指某信道有百分之几的时间是被利用的(有数据通过)。完全空闲的信道的利用率就是零 </li>
<li>网络利用率是指网络的信道利用率的加权平均值</li>
<li>根据排队论，当某信道利用率增大时，时延会迅速增加<br><img src="/../img/ComNetworking/19.png" srcset="/img/loading.gif" lazyload></li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="非性能指标"><a href="#非性能指标" class="headerlink" title="非性能指标"></a>非性能指标</h4><p><img src="/../img/ComNetworking/20.png" srcset="/img/loading.gif" lazyload></p>
<h2 id="网络体系结构"><a href="#网络体系结构" class="headerlink" title="网络体系结构"></a>网络体系结构</h2><h3 id="网络协议"><a href="#网络协议" class="headerlink" title="网络协议"></a>网络协议</h3><p>网络体系结构时计算机网络的各层一期协议的<strong>集合</strong>，就时这个计算机以其构件所应完成的<strong>功能的精确定义</strong></p>
<ul>
<li>网络协议(协议)<ul>
<li>描述:为进行网络中的数据交换而建立的规则，标准或约定</li>
<li>三个组成要素<ul>
<li>语法：规定传输数据的格式，解决交换信息的格式问题</li>
<li>语义：规定所要完成的功能，解决做什么的问题</li>
<li>同步：规定各种朝左的顺序，又称作时序，解决什么时间什么条件下做什么特定操作的问题</li>
</ul>
</li>
<li>两种形式<ul>
<li>文字描述：便于人来阅读和理解</li>
<li>程序代码：让计算机能够理解</li>
</ul>
</li>
<li>特点<ul>
<li>必须遵守</li>
<li>非常复杂，无法十全十美</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="分层体系"><a href="#分层体系" class="headerlink" title="分层体系"></a>分层体系</h3><h4 id="层次间的关系-水平、垂直"><a href="#层次间的关系-水平、垂直" class="headerlink" title="层次间的关系(水平、垂直)"></a>层次间的关系(水平、垂直)</h4><ul>
<li>分层原则：<ul>
<li><img src="/../img/ComNetworking/21.png" srcset="/img/loading.gif" lazyload></li>
</ul>
</li>
<li>各层至少要完成以下功能<ul>
<li>差错控制：使对应层次对等方的通信更加可靠</li>
<li>流量控制：发送端的发送速率必须使接收端来的及接受，不要太快</li>
<li>分段和重装：将发送端将要发送的数据块划分为更小的单位，接受端还原</li>
<li>复用和分用：发送端几个高层会话复用一条低层的连接，在接收端再进行分配</li>
<li>连接建立和释放：交换数先建立一条<strong>逻辑连接</strong>，数据传送结束后释放数据连接<br><img src="/../img/ComNetworking/22.png" srcset="/img/loading.gif" lazyload></li>
</ul>
</li>
</ul>
<h4 id="优点和缺点"><a href="#优点和缺点" class="headerlink" title="优点和缺点"></a>优点和缺点</h4><ul>
<li>优点<br> <img src="/../img/ComNetworking/23.png" srcset="/img/loading.gif" lazyload></li>
<li>缺点<ul>
<li>降低效率</li>
<li>有些功能会在不同层次中重复出现，因此产生额外的开销</li>
</ul>
</li>
</ul>
<h4 id="不同层次体系模型"><a href="#不同层次体系模型" class="headerlink" title="不同层次体系模型"></a>不同层次体系模型</h4><ul>
<li>OSI 7层模型(法律上的国际标准)<br><img src="/../img/ComNetworking/24.png" srcset="/img/loading.gif" lazyload></li>
<li>TCP&#x2F;IP(事实上的国际标准)<br><img src="/../img/ComNetworking/25.png" srcset="/img/loading.gif" lazyload><br><img src="/../img/ComNetworking/26.png" srcset="/img/loading.gif" lazyload></li>
<li>五层协议体系结构(讲述原理的体系结构)<br><img src="/../img/ComNetworking/27.png" srcset="/img/loading.gif" lazyload></li>
</ul>
<h4 id="五层体系各层的名称和功能"><a href="#五层体系各层的名称和功能" class="headerlink" title="五层体系各层的名称和功能"></a>五层体系各层的名称和功能</h4><ul>
<li>应用层<br><img src="/../img/ComNetworking/28.png" srcset="/img/loading.gif" lazyload></li>
<li>运输层<br><img src="/../img/ComNetworking/29.png" srcset="/img/loading.gif" lazyload></li>
<li>网络层<br><img src="/../img/ComNetworking/30.png" srcset="/img/loading.gif" lazyload></li>
<li>数据路层<br><img src="/../img/ComNetworking/31.png" srcset="/img/loading.gif" lazyload></li>
<li>物理层<br><img src="/../img/ComNetworking/32.png" srcset="/img/loading.gif" lazyload></li>
</ul>
<p><img src="/../img/ComNetworking/33.png" srcset="/img/loading.gif" lazyload></p>
<h3 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h3><ul>
<li>实体：表示任何可发送或接受信息的硬件或软件进程</li>
<li>协议：控制两个对等实体进行通信的规则的集合</li>
<li>服务：在协议的控制下，两个对等实体的通信使的本层能够向上一层提供服务。要实现本次协议，还需要下层提供的服务</li>
<li>服务访问点SAP：在同一系统中相邻两层的实体进行交互(交换信息)，它实际上是一个<strong>逻辑接口</strong></li>
<li>服务是垂直的(上层使用服务原语获得下册所提供的服务)，协议是水平的<br><img src="/../img/ComNetworking/34.png" srcset="/img/loading.gif" lazyload></li>
</ul>
<h1 id="物理层"><a href="#物理层" class="headerlink" title="物理层"></a>物理层</h1><h2 id="概念和功能"><a href="#概念和功能" class="headerlink" title="概念和功能"></a>概念和功能</h2><ul>
<li>位置：网络体系结构最底层(逻辑概念)<ul>
<li>不是具体传输媒体，也不是连接计算机的具体物理设备</li>
</ul>
</li>
<li>功能：如何在连接各种计算机的传输媒体上的<strong>传输数据比特流</strong><ul>
<li>数据链路层将比特流传送给物理层</li>
<li>物理层将比特流按照传输传媒的需要进行编码</li>
<li>然后将信号通过传输媒体传输到下一个节点的物理层</li>
</ul>
</li>
<li>作用：尽可能屏蔽掉不同传媒体和通信手段的差异<ul>
<li>为数据链路层提供一个统一的数据传输服务</li>
</ul>
</li>
<li>用于物理层的协议也称为物理层规程</li>
<li>主要任务：确定与媒体的接口有关的一些特性</li>
<li><img src="/../img/ComNetworking/35.png" srcset="/img/loading.gif" lazyload alt="接口"></li>
<li>物理层协议是DTE和DCE的约定，规定了标准化的DTE&#x2F;DCE皆有具有的特性<ul>
<li><strong>机械特性</strong>:接口所用接线器的形状和尺寸、引线数目和排列、固定和锁定装置</li>
<li><strong>电气特性</strong>:在接口电缆的各线路的电气连接以及有关电路特性例如电压范围，阻抗，传输速率等</li>
<li><strong>功能特性</strong>:指明某条线上出现的某一电平的电压的意义，定义接线器的每一引脚(针)的作用<br><img src="/../img/ComNetworking/36.png" srcset="/img/loading.gif" lazyload></li>
<li><strong>过程特性</strong>:指明对于不同功能的各种事件的出现顺序</li>
</ul>
</li>
</ul>
<h2 id="数据通信的基础知识"><a href="#数据通信的基础知识" class="headerlink" title="数据通信的基础知识"></a>数据通信的基础知识</h2><ul>
<li><p>三大部分：源系统(或发送端，发送方)、传输系统(或传输网络)和目的系统(或接收端，接收方)<br><img src="/../img/ComNetworking/37.png" srcset="/img/loading.gif" lazyload></p>
</li>
<li><p>数据通信常用术语</p>
<ul>
<li>通信是在源点与终点之间传递消息或信息，但信息和消息有着不同的概念 </li>
<li><strong>信息</strong>是指向人们表达客观物质运动和主观思维活动的文字、符号、数据、语音和图像等<ul>
<li>能被通信双方所理解</li>
<li>可以相互传递</li>
</ul>
</li>
<li><strong>信息</strong>是指包含在信息中对通信者有意义的那部分内用，<strong>消息是信息的载体</strong></li>
<li>数据是对某一事实的不经解释并赋予一定含义的数字、字母、文字等符号以其组合的原始表达，是运送信息的实体，分为模拟数据和数字数据</li>
<li>信号是信息的载体(比如电信号，光信号等)，是数据的电气的或电磁的表现<ul>
<li>在通信系统中，信息是通过电信号来传递的，电信号具有模拟信号和数字信号</li>
</ul>
</li>
</ul>
</li>
<li><p>有关信道的几个基本概念</p>
</li>
<li><p>信道：信号传输的通道，按照数据信号在信道上的传送方向与时间的关系，传输方式可分为三类：</p>
<ul>
<li>**单向通信(单工通信)**：只有一个方向的通信，没有反方向的交互</li>
<li><strong>双向交替(半双工通信)</strong>:通信的双方都可以发送信息，但双方不能同时发送</li>
<li><strong>双向同时通信(全双工通信)</strong>:通信的双方可以同时发送和接受信息</li>
</ul>
</li>
<li><p>基带信号(即基本频信号)</p>
</li>
<li><p>信号源发出没有的经过调制的原始信号</p>
</li>
<li><p>包含有较多的低频成分，基本有直流成分</p>
</li>
<li><p>调制：让信号可以在相应信道中传输<br><img src="/../img/ComNetworking/38.png" srcset="/img/loading.gif" lazyload><br><img src="/../img/ComNetworking/39.png" srcset="/img/loading.gif" lazyload>  </p>
</li>
<li><p>常用编码方式<br><img src="/../img/ComNetworking/40.png" srcset="/img/loading.gif" lazyload><br><img src="/../img/ComNetworking/41.png" srcset="/img/loading.gif" lazyload></p>
<ul>
<li>信号频率：<ul>
<li>曼切斯特编码是差分曼切斯特编码产生的信号频率不比不归零制高</li>
</ul>
</li>
<li>自同步能力：<ul>
<li>不归零制不能从信号波形本身中提取信号钟频率(没有自同步能力)</li>
<li>曼彻斯特编码和差分曼彻斯特编码<strong>具有自同步能力</strong></li>
</ul>
</li>
</ul>
</li>
<li><p>基本的带通调制方法</p>
</li>
<li><p>基带信号往往包含有较多的低频成分，甚至直流成分，而许多信道并不能传输这种低频分量或直流分量</p>
</li>
<li><p>必须对基带信号进行调制</p>
</li>
<li><p>最基本的调制方法有以下几种</p>
<ul>
<li>调幅(AM):载波的振幅随基带数字信号而变化</li>
<li>调频(FM):载波的频率随 基带数字信号而变化</li>
<li>调相(PM):载波的初始相位随基带数字信号而变化<br><img src="/../img/ComNetworking/42.png" srcset="/img/loading.gif" lazyload></li>
</ul>
</li>
</ul>
<h2 id="传输媒体"><a href="#传输媒体" class="headerlink" title="传输媒体"></a>传输媒体</h2><ul>
<li>传输媒体是数据传输系统中在发送器和接收器之间的物理通路</li>
<li>两大类<ul>
<li>导引型传输媒体:电磁波导引沿着固体媒体传播</li>
<li>非导引型传输媒体:自由空间。非导引型传输媒体中电磁波的传输常称为无线传输</li>
</ul>
</li>
</ul>
<h3 id="导引型传输媒体"><a href="#导引型传输媒体" class="headerlink" title="导引型传输媒体"></a>导引型传输媒体</h3><p><img src="/../img/ComNetworking/43.png" srcset="/img/loading.gif" lazyload><br><img src="/../img/ComNetworking/44.png" srcset="/img/loading.gif" lazyload><br><img src="/../img/ComNetworking/45.png" srcset="/img/loading.gif" lazyload></p>
<h3 id="非导引型传输媒体"><a href="#非导引型传输媒体" class="headerlink" title="非导引型传输媒体"></a>非导引型传输媒体</h3><p><img src="/../img/ComNetworking/46.png" srcset="/img/loading.gif" lazyload><br>微波接力：远距离微波通信，中继站把前一站送来的信号放大再发送到下一站</p>
<h2 id="信道复用技术"><a href="#信道复用技术" class="headerlink" title="信道复用技术"></a>信道复用技术</h2><ul>
<li>为什么要信道复用<ul>
<li>信道资源是有限的，实际网络中，多对用户往往需要利用相同的信道资源传输信息</li>
<li>不同的信号同时在一个信道中传输会产生严重互相干扰，导致传输失败</li>
</ul>
</li>
<li>什么是信道复用<ul>
<li>多路复用技术：把多个信号组合在一条物理信道上进行传输，使得多个计算机或终端设备共享信道资源，提高信道利用率</li>
<li>允许用户使用一个共享信道进行通信，降低成本，提高利用率</li>
</ul>
</li>
<li>频分复用<br><img src="/../img/ComNetworking/47.png" srcset="/img/loading.gif" lazyload><br>可让N个用户各使用一个频带，或让更多的用户轮流使用这个N个频带。这种方式成频分多址接入FDMA,简称为频分多址</li>
<li>时分复用<br><img src="/../img/ComNetworking/48.png" srcset="/img/loading.gif" lazyload><br>可让N个用户各使用一个时隙，或让更多的用户轮流使用这个N个时隙。这种方式成频分多址接入TDMA,简称为时分多址<ul>
<li>由于数据具有突发性，时分复用会导致信道利用率不高</li>
</ul>
</li>
<li>统计时分复用<br><img src="/../img/ComNetworking/49.png" srcset="/img/loading.gif" lazyload></li>
<li>光分复用<br><img src="/../img/ComNetworking/50.png" srcset="/img/loading.gif" lazyload></li>
<li>码分复用<br><img src="/../img/ComNetworking/51.png" srcset="/img/loading.gif" lazyload></li>
</ul>
<blockquote>
<p><strong>物理层解决了相邻结点透明传输比特的问题</strong></p>
</blockquote>
<h1 id="数据链路链路层"><a href="#数据链路链路层" class="headerlink" title="数据链路链路层"></a>数据链路链路层</h1><h2 id="概叙-1"><a href="#概叙-1" class="headerlink" title="概叙"></a>概叙</h2><ul>
<li>什么是数据链路<ul>
<li>链路是结点间的物理通道，无源的物理线路，中间无任何其他交换结点</li>
<li>数据链路是节点间的逻辑通道，是实现控制数据传输的协议的硬件和软件加到链路上，即链路+协议</li>
<li>数据链路层：负责通过一条链路从一个结点向物理链路直接相连的相邻结点传送帧<br>帧：链路层协议数据单元，封装网络层的数据报</li>
</ul>
</li>
<li>数据链路层不必考虑物理层如何*<em>实现比特传输的细节</em></li>
<li>数据链路层信道类型</li>
<li>点对点信道(一对一)</li>
<li>广播信道(一对多)</li>
</ul>
<h2 id="解决三个基本问题"><a href="#解决三个基本问题" class="headerlink" title="解决三个基本问题"></a>解决三个基本问题</h2><ul>
<li>封装成帧<ul>
<li>在前后一段数据的前后分别添加首部和尾部，构成一个帧</li>
<li>首部和尾部一个重要的作用就是帧定界</li>
<li>将比特流分成”帧”的主要目的是为了检测和纠正物理层在比特传输中可能出现的错误<br><img src="/../img/ComNetworking/52.png" srcset="/img/loading.gif" lazyload></li>
<li>如何标识一个帧的开始<ul>
<li>接收方必须能从物理层接受的比特流中明确区分出一帧的开始和结束</li>
<li>选择何种定界符？定界符出现的数据部分如何处理？<br>成帧的方式</li>
<li>字节计数法<ul>
<li>无差错传输的情形<br><img src="/../img/ComNetworking/53.png" srcset="/img/loading.gif" lazyload></li>
</ul>
</li>
<li>带<strong>字节</strong>填充的定界符法<br><img src="/../img/ComNetworking/54.png" srcset="/img/loading.gif" lazyload></li>
<li>带<strong>比特</strong>填充的定界符法</li>
<li>物理层编码违例</li>
</ul>
</li>
</ul>
</li>
<li>透明传输<ul>
<li>透明：指某一个实际存在的事物看起来却好像不存在一样</li>
<li>“在数据链路层透明传送数据”表示：无论送什么样的比特组合的数据，这些数据都能按照原样<strong>没有差错</strong>地通过这个数据链路层</li>
<li>发送方采用”字节填充”或”字符填充”法(异步)<br><img src="/../img/ComNetworking/55.png" srcset="/img/loading.gif" lazyload><br><img src="/../img/ComNetworking/56.png" srcset="/img/loading.gif" lazyload></li>
</ul>
</li>
<li>差错控制<br><img src="/../img/ComNetworking/57.png" srcset="/img/loading.gif" lazyload><br>传输错误的比特占所传输总数的比率称为误码率BER，与信噪比有关。<ul>
<li>数据链路层需要进行差错检验<ul>
<li>纠错码：检测到错误的就纠正，主要用于错误发生比较频繁信道，如无线链路</li>
<li>检错码：一出错就丢掉数据，主要用在高可靠，错码率较低的信道，例如光纤链路<br><img src="/../img/ComNetworking/58.png" srcset="/img/loading.gif" lazyload></li>
<li><img src="/../img/ComNetworking/59.png" srcset="/img/loading.gif" lazyload></li>
<li>数据后面添加的冗余码称为帧检验序列FCS</li>
<li>CRC循环冗余校验不可以实现数据的可靠传输<blockquote>
<ul>
<li>无比特差错与无传输差错是不同的</li>
<li>可靠传输：链路层的发送端发送什么，在接收端就收到什么</li>
<li>传输差错可以分为：<ul>
<li>比特差错</li>
<li>传输出错：帧丢失，帧重复或帧失序等</li>
</ul>
</li>
<li>在数据链路层使用CRC检验，能实现五比特差错的传输但这还不是可靠传输</li>
<li><strong>要做到可靠传输，还必须加上帧编号、确认和重传等机制</strong></li>
</ul>
</blockquote>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="点对点协议PPP-广域网"><a href="#点对点协议PPP-广域网" class="headerlink" title="点对点协议PPP(广域网)"></a>点对点协议PPP(广域网)</h2><ul>
<li>满足的需求<ul>
<li>简单</li>
<li>能够承载不同的网络层分组</li>
<li>能够在多种类型的链路上运行</li>
<li>封装成帧</li>
<li>透明传输–字节填充、零比特填充</li>
<li>差错检测</li>
<li>实施监测链路工作状态</li>
<li>设置链路最大传送单元MTU</li>
<li>网络层地址协商机制– 必须提供一种机制是通信的额两个网络层实体能够协商知道或配置彼此的网络层地址</li>
<li>数据压缩协商机制、</li>
</ul>
</li>
<li>PPP协议组成</li>
<li>一种将IP数据报封装到同步(零比特填充)&#x2F;异步(字节填充)串行链路的方法</li>
<li>链路控制协议LCP<ul>
<li>用来建立、配置和测试数据链路的链路控制协议，通信双方可协商一些选项，最重要的功能之一是身份验证</li>
</ul>
</li>
<li>网络控制协议NCP<ul>
<li>其中每个协议支持一种不同的网络层协议，如IP、OSI的网络层<br><img src="/../img/ComNetworking/60.png" srcset="/img/loading.gif" lazyload></li>
</ul>
</li>
<li>PPP协议的状态图<br><img src="/../img/ComNetworking/61.png" srcset="/img/loading.gif" lazyload></li>
</ul>
<h2 id="广播信道"><a href="#广播信道" class="headerlink" title="广播信道"></a>广播信道</h2><ul>
<li><p>局域网最主要的特点</p>
<ul>
<li>具有广播功能，从一个站点可很方便地访问全网</li>
<li>便于系统的扩展和逐渐地演变，各设备的位置可灵活调整和改变</li>
<li>提高系统的可靠性、可用性和生存性</li>
</ul>
</li>
<li><p>问题：可能两个(或更多)站点同时请求占用信道</p>
</li>
<li><p>解决方法：介质多路访问控制，在多路访问上确定下一个使用者</p>
</li>
<li><p>怎么介质访问控制</p>
<ul>
<li>静态分配<ul>
<li>频分复用、时分复用、波分用、码分复用 </li>
<li>适用于通信量大且流量稳定的情况、用户数量少且用户数固定</li>
<li>代价高，不适合突发性业务，不是个局域网</li>
</ul>
</li>
<li>动态分配<ul>
<li>随机接入：所有用户可随机地发送信息(以太网)</li>
<li>受控接入：用户必须服从一定的控制。如轮询</li>
</ul>
</li>
</ul>
</li>
<li><p>适配器的作用<br><img src="/../img/ComNetworking/62.png" srcset="/img/loading.gif" lazyload></p>
<ul>
<li>重要功能 <ul>
<li>进行串行&#x2F;并行转换</li>
<li>对数据进行缓存</li>
<li>在计算机的操作系统安装设备驱动程序</li>
<li>实现以太网协议</li>
</ul>
</li>
</ul>
</li>
<li><p>以太网采取2种重要措施</p>
<ul>
<li>采用较灵活的无连接的工作方式<ul>
<li>不必先建立连接就可以直接发送数据</li>
<li>对发送的数据帧不进行编号，也不要求对方发回确认</li>
<li>提供不可靠，尽最大可能的交付服务</li>
<li>差错帧是否重传由高层决定</li>
</ul>
</li>
<li>发送的数据都使用曼彻斯特编码，便于同步</li>
</ul>
</li>
<li><p>CSMA&#x2F;CD协议(先听后发，边听边发，冲突停止，延迟重发)</p>
<ul>
<li>载波监听多点接入&#x2F;碰撞测试</li>
<li><strong>多点接入</strong>：说明这是总线型网络。许多计算机以多点接入的方式连接在一根总线上</li>
<li><strong>载波监听</strong>：即”边发送边监听”。不管在想要发送数据之前，还是在发送数据之中，每个站都必须不停地检测信道</li>
<li><strong>碰撞检测</strong>：适配器边发送数据，边检测信道上地信号电压变化情况。电压摆动超出一定地门限值时，就认为总线上至少有两个站同时在发送数据，表明产生了碰撞</li>
<li>检测到碰撞后：<ul>
<li>适配器立即停止发送(碰撞点后面地已发信号会一直叠加)</li>
<li>等待一段随机时间后再次发送(避免再次冲突)</li>
</ul>
</li>
</ul>
</li>
</ul>
<blockquote>
<p>Q1:既然发送已监听过信道，为什么要进行碰撞检测</p>
</blockquote>
<p>因为信号有传播时延，监听信道空闲，但信道可能并非真正空闲<br>每一个站在自己发送数据未到终点之前，都存在着碰撞地可能性</p>
<blockquote>
<p>Q2:发送数据后，至少要在多少时间内收到数据才能说明没有碰撞</p>
</blockquote>
<p><img src="/../img/ComNetworking/63.png" srcset="/img/loading.gif" lazyload></p>
<blockquote>
<p>Q3:经过争用期这段时间还没有检测到碰撞，就能肯定这次发送不会发生碰撞嘛</p>
</blockquote>
<p>是的</p>
<blockquote>
<p>Q4:碰撞后什么时候重传</p>
</blockquote>
<p>采用截断二进制指数退避确定<br><img src="/../img/ComNetworking/64.png" srcset="/img/loading.gif" lazyload></p>
<ul>
<li><p>使用集线器的星形拓扑</p>
<ul>
<li>传统以太网传输媒体：粗同轴电缆-&gt;细同轴电缆-&gt;双绞线</li>
<li>使用双绞线的以太网采用星形拓扑</li>
<li>在星形的中心则增加一种可靠性非常高的设备，叫做集线器</li>
</ul>
</li>
<li><p>集线器一些特点</p>
<ul>
<li>使用集线器的以太网<strong>在逻辑上仍是一个总线网</strong>，只是使用电子器件来模拟实际电缆的工作</li>
<li>仍然是<strong>共享信道</strong>，各工作站使用的还是CSMA&#x2F;CD协议，并共享逻辑上的总线</li>
<li><strong>工作在物理层</strong></li>
<li>采用专门芯片，进行自适应串音回波抵消，减少了近端串音</li>
</ul>
</li>
<li><p>MAC层</p>
<ul>
<li>又称为<strong>物理地址</strong>，或<strong>MAC地址</strong></li>
<li>IEEE 802标准为局域网规定了一种48位的全球地址(简称为地址)是指局域网上的每一台计算机<strong>固化在适配器的ROM中的地址</strong></li>
<li>每一个适配器都有一个MAC地址，相当于它的标识符，与其所处的位置无关</li>
<li><strong>局域网上的每一个接口都有一个MAC地址(48bit)</strong><br><img src="/../img/ComNetworking/65.png" srcset="/img/loading.gif" lazyload></li>
<li>分类<br><img src="/../img/ComNetworking/66.png" srcset="/img/loading.gif" lazyload></li>
<li>适配器每收到一个MAC帧，先用硬件检查帧中的MAC地址</li>
<li>如果是发往本站的帧则收下，然后再进行其他的处理</li>
<li>否则就将此帧丢失，不再进行其他的处理</li>
<li>最常见的MAC帧是<strong>以太网V2的格式</strong><br><img src="/../img/ComNetworking/67.png" srcset="/img/loading.gif" lazyload></li>
</ul>
</li>
</ul>
<h2 id="扩展的以太网"><a href="#扩展的以太网" class="headerlink" title="扩展的以太网"></a>扩展的以太网</h2><p>物理层扩展</p>
<ul>
<li>使用光纤扩展</li>
<li>使用集线器扩展<ul>
<li>碰撞域(冲突域):指网络中一个站点发出的帧会与其他站点发出的帧产生碰撞或冲突的那部分网络<br><img src="/../img/ComNetworking/68.png" srcset="/img/loading.gif" lazyload></li>
</ul>
</li>
</ul>
<p>数据链路层扩展</p>
<ul>
<li>更为常用</li>
<li>早期使用<strong>网桥(信道全双工)<strong>，现在使用以太网</strong>交换机</strong></li>
<li>网桥根据MAC帧的目的地址对收到的帧进行转发和过滤。或者转发、或者丢弃<br><img src="/../img/ComNetworking/69.png" srcset="/img/loading.gif" lazyload></li>
<li>以太网交换机的特点<ul>
<li>实质上是一个<strong>多接口网桥</strong><ul>
<li>通常有十几个或更多的接口</li>
</ul>
</li>
<li>每个接口都直接与一个单台主机或另一个以太网交换机相连，并且都工作在<strong>全双工</strong>方式</li>
<li>并行性<ul>
<li>能同时连通多对接口，使多对主机能同时通信</li>
<li>相互通信的主机都独占传输媒体，无碰撞地传输数据</li>
<li>每一个端口和连接到端口的主机构成一个碰撞域<br><img src="/../img/ComNetworking/70.png" srcset="/img/loading.gif" lazyload>  </li>
<li>接口有存储器</li>
<li><strong>即插即用</strong>。内部的帧<strong>交换表</strong>(地址表)是通过<strong>自学习算法</strong>自动地逐渐建立起来的<ul>
<li>自学习功能<br><img src="/../img/ComNetworking/71.png" srcset="/img/loading.gif" lazyload></li>
</ul>
</li>
<li>使用专用的交换结构芯片，用硬件转发，其转发率要比使用软件转发的网桥快很多</li>
<li>每个接口用户独享带宽，增加总容量<ul>
<li>支持多种速率接口</li>
<li>支持多类型接口</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>多台以太网交换机互连<ul>
<li><strong>回路会带来什么问题</strong><ul>
<li>广播不断循环，造成广播风暴，造成资源浪费，极大降低网络效率</li>
</ul>
</li>
<li>解决环路<ul>
<li>使用生成树协议(STP)<ul>
<li><strong>不改变</strong>网络的实际拓扑，但<strong>在逻辑上</strong>则切断某些链路(阻塞接口)，使得从一台主机到所有其他主机的路径是<strong>无环路的树状结构</strong>，从而消除了兜圈子现象</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="虚拟局域网VLAN"><a href="#虚拟局域网VLAN" class="headerlink" title="虚拟局域网VLAN"></a>虚拟局域网VLAN</h2><ul>
<li>广播域<ul>
<li>指这样一部分网络，其中任何一台设备发出的广播通信都能被该部分网络中的所有其他设备所接受</li>
<li>一个以太网是一个广播域</li>
</ul>
</li>
<li>虚拟局域网定义：<ul>
<li>是由一些局域网网段构成的<strong>与物理地位无关的逻辑组</strong>，而这些网段具有某些共同的需求。每一个VLAN的帧都有一个明确的标识符，指明发送这个帧的计算机是属于哪一个VLAN</li>
</ul>
</li>
<li>虚拟局域网其实只是局域网个用户提供一种服务，并不是一种新型局域网</li>
<li>VLAN是一个在物理网络上根据用途，工作组，应用等来<strong>逻辑划分</strong>的局域网络，与网络的物理位置没有关系</li>
<li>每一个VLAN是一个广播域</li>
<li>一台主机发出的广播包，只能在VLAN中传播</li>
<li>主要优点<ul>
<li>便于网络管理，具有相似需求的用户共享一个VLAN</li>
<li>增加网络的安全性，敏感用户与普通用户隔离</li>
<li>减少了不必要的网络流量</li>
<li>限制了广播报文的洪泛，抑制广播风暴</li>
<li>减少网络拓扑变更成本</li>
<li>降低计算机CPU的开销</li>
</ul>
</li>
</ul>
<h2 id="高速以太网"><a href="#高速以太网" class="headerlink" title="高速以太网"></a>高速以太网</h2><ul>
<li>100BASE-T 以太网<ul>
<li>又称为<strong>快速以太网</strong></li>
<li>在双绞线上传送100Mbit&#x2F;s基带信号的星形拓扑以太网</li>
<li>仍使用IEEE 802.3的CSMA&#x2F;CD协议</li>
<li>特点<ul>
<li>可在全双工方式下工作而无冲突发生</li>
<li>在全双工方式下工作时，不使用CMSA&#x2F;AD协议</li>
<li>使用IEEE 802.3的协议规定的MAC帧格式</li>
<li>保持最短帧长不变，但将一个网络的最大电缆长度减小到100米</li>
</ul>
</li>
</ul>
</li>
<li>吉比特以太网<ul>
<li>允许在1Gbit&#x2F;s下以全双工和半双工2种方式工作</li>
<li>仍使用IEEE 802.3的MAC帧格式</li>
<li>在<strong>半双工</strong>方式下使用CSMA&#x2F;CD协议，而在<strong>全双工</strong>方式不适用CSMA&#x2F;CD协议</li>
<li>与10BASE-T和100BASE-T技术向后<strong>兼容</strong></li>
</ul>
</li>
</ul>
<h1 id="网络层"><a href="#网络层" class="headerlink" title="网络层"></a>网络层</h1><h2 id="网络层提供的两种服务"><a href="#网络层提供的两种服务" class="headerlink" title="网络层提供的两种服务"></a>网络层提供的两种服务</h2><ul>
<li>为什么要网络层<ul>
<li>数据链路层解决了同一局域网计算机间帧的传输问题，但没有解决<strong>异构网络之间的连接和资源共享</strong>问题<ul>
<li>异构网络互联，即跨局域网连接和资源共享</li>
<li>互联网网络中主机标识问题</li>
<li>互联网中主机路由选择问题(最佳路径)</li>
<li>互联网中数据转发的问题(分组转发)</li>
<li>网络层要向传输层提供面向连接的服务，还是无连接的服务(在计算机通信中，可靠交付应当<strong>网络负责</strong>还是<strong>端系统负责</strong>)<ul>
<li>让网络负责可靠交付(虚电路服务)<ul>
<li><img src="/../img/ComNetworking/72.png" srcset="/img/loading.gif" lazyload></li>
<li>链路中任何一个组成环节仍有可能失效，而这种失效是严重的，可能会导致所有数据丢失</li>
</ul>
</li>
<li>网络提供数据报服务(数据报服务)<ul>
<li><img src="/../img/ComNetworking/73.png" srcset="/img/loading.gif" lazyload></li>
<li>网络层不提供服务质量的承诺，即所传送的分组可能会出错、丢失、重复和失序(不按序到达终点)，也不保证分组传送的时限</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="IP协议"><a href="#IP协议" class="headerlink" title="IP协议"></a>IP协议</h2><ul>
<li>虚拟互联网(IP网)<ul>
<li>概念：逻辑互联网络，使用路由器解决各种异构的物理网络连接在一起的问题。使用IP协议的虚拟互连网络简称为IP网</li>
<li>中间设备又称为中间系统或中继系统<br><img src="/../img/ComNetworking/74.png" srcset="/img/loading.gif" lazyload></li>
</ul>
</li>
<li>网际协议IP<ul>
<li><img src="/../img/ComNetworking/75.png" srcset="/img/loading.gif" lazyload></li>
<li>IP地址就是给每个连接在互联网上的主机或路由器的<strong>每一个接口</strong>分配的<strong>全球唯一的标识符</strong></li>
<li>IP地址是32位的二进制地址，采用2级结构<ul>
<li>IP地址::&#x3D;{&lt;网络号&gt;,&lt;主机号&gt;}</li>
<li>IP地址管理机构负责分配网络号，单位负责分配主机号，方便IP地址管理</li>
<li>路由器根据网络号将分组转发到对应网络，大大减小路由表项目数，减少存储空间占用，提高效率</li>
<li><img src="/../img/ComNetworking/79.png" srcset="/img/loading.gif" lazyload></li>
<li><img src="/../img/ComNetworking/80.png" srcset="/img/loading.gif" lazyload></li>
<li><img src="/../img/ComNetworking/81.png" srcset="/img/loading.gif" lazyload></li>
</ul>
</li>
<li>子网划分</li>
<li><img src="/../img/ComNetworking/80.png" srcset="/img/loading.gif" lazyload></li>
<li>划分子网是单位内部的事情:在网络内部将一个网络块进行划分多个内部网络使用，对外仍是一个网络</li>
<li>子网掩码，与IP地址一一对应，是32bit的二进制数，置1表示网络位，置0表示主机位</li>
<li><strong>IP地址</strong>和<strong>子网掩码</strong>进行<strong>与</strong>运算得到<strong>子网网络地址</strong></li>
<li>分类的IP地址的优点和缺点<ul>
<li><img src="/../img/ComNetworking/83.png" srcset="/img/loading.gif" lazyload></li>
</ul>
</li>
<li>无分类编制方法CIDR<ul>
<li><img src="/../img/ComNetworking/84.png" srcset="/img/loading.gif" lazyload> </li>
<li>斜线记法：IP地址&#x2F;n(前面有多少位是网络前缀)  IP地址 AND运算 掩码 -&gt;该地址的网络前缀</li>
<li><img src="/../img/ComNetworking/85.png" srcset="/img/loading.gif" lazyload></li>
<li>一个CIDR地址块可以表示很多地址，多个较小地址块也能构成一个更大地址块，称为<strong>构成超网</strong>，又称为<strong>路由聚合</strong></li>
<li>路由聚合可以减少路由条目，但<strong>CIDR无法解决地址空间不足的问题</strong></li>
</ul>
</li>
</ul>
</li>
<li>IP数据报<ul>
<li>IP数据报由首部(20字节)和数据两部分组成<br> <img src="/../img/ComNetworking/76.png" srcset="/img/loading.gif" lazyload></li>
<li>版本：占4位，指IP协议的版本，目前的IP协议版本号位4(即IPv4)</li>
<li>首部长度：占4位，可表示的最大数值是15个单位(一个单位为4字节)，因此IP的首部的长度最大值是60字节</li>
<li>总长度：占16位，指首部和数据之和的长度，单位为字节，因此数据包的最大长度为65535字节，数据链路层MTU会限制实际的IP数据报长度<br><img src="/../img/ComNetworking/77.png" srcset="/img/loading.gif" lazyload></li>
<li>分片和重组需要用到标识、标志和片偏移三个字段<ul>
<li>标识：占16位，它是一个计数器，用来产生数据报的标识，不是序号，每产生一个数据包，就增加1</li>
<li>标志(flag)：占3位，标志字段的最低位为MF。MF&#x3D;1表示后面”还有分片”。MF&#x3D;0表示最后一个分片。标志字段中间的一位是DF，只有当DF&#x3D;0时才允许分片。</li>
<li>片偏移：占13位，指出较长的分组在分片后，某片在原分组中的相对位置，片偏移以8个字节为偏移单位<br><img src="/../img/ComNetworking/78.png" srcset="/img/loading.gif" lazyload></li>
</ul>
</li>
<li>生存时间：数据报在网络当中可以通过路由器的最大数量，每经过一跳(TTL)，生存时间减一,<strong>防止了所有数据在网络上不停的跑</strong></li>
<li>协议：占8位，指出数据包携带的数据使用何种协议以便目的主机的IP层将数据部分上交给哪个处理过程</li>
<li>首部检验和：占16位，只检验数据包的首部，不检验数据部分，这里不采用CRC检验码而采用简单的计算方法</li>
<li>源地址和目标地址：各占4位，就是IP地址</li>
</ul>
</li>
<li>IP协议功能及报头字段总结<ul>
<li>网络层基本功能<ul>
<li>支持多跳寻路将IP数报送达目的端:<strong>目的IP地址</strong></li>
<li>表明发生端身份:<strong>源IP地址</strong></li>
<li>根据IP头部协议类型，提交给不同上层协议处理：<strong>协议</strong></li>
</ul>
</li>
<li>其他相关问题<ul>
<li>数据报长度大于传输链路的MTU的问题，通过分片机制解决:<strong>标识、标志、片偏移</strong></li>
<li>防止循环转发浪费网络资源(路由错误，设备故障),通过跳数限制解决:<strong>生存时间TTL</strong></li>
<li>IP报头错误导致无效传输，通过头部校验解决:<strong>首部校验和</strong></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="IP分组的转发"><a href="#IP分组的转发" class="headerlink" title="IP分组的转发"></a>IP分组的转发</h2><ul>
<li>基于终点的转发<ul>
<li>分组在互联网中是<strong>逐跳转发</strong>的，路由器通过查转发表确定下一跳</li>
<li>基于终点的转发：基于分部首部中的<strong>目的地址</strong>传送和转发</li>
<li>路由转发表中可能包含哪些信息<ul>
<li>目的网络地址，下一跳地址，掩码</li>
</ul>
</li>
<li>一个网络中可能有多个地址，为压缩路由表的大小，将”目的地址”变化为”目的网络地址”</li>
<li>查转发表的过程就是逐行寻找前缀匹配</li>
<li>主机路由<ul>
<li>又叫做特定主机路由</li>
<li>是对特定目的的主机的IP地址专门指明的一个路由</li>
<li>网络前缀就是a.b.c.d&#x2F;32</li>
<li>放在转发表的最前面</li>
</ul>
</li>
<li>默认路由<ul>
<li>不管分组的最终目的网络在哪里，都由指定的路由器R来处理</li>
<li>用特殊前缀0.0.0.0&#x2F;0表示</li>
<li>放在转发表的最后面</li>
</ul>
</li>
</ul>
</li>
<li>最长前缀匹配<ul>
<li>使用CIDR时，在查找转发表时可能会得到不止一个匹配结果</li>
<li>原则：选择前缀最长的一个作为匹配的前缀</li>
<li>网络前缀越长，其地址快就越小，因而路由就越具体</li>
<li>把前缀最长的排在转发表的第一行</li>
</ul>
</li>
</ul>
<p><img src="/../img/ComNetworking/86.png" srcset="/img/loading.gif" lazyload></p>
<blockquote>
<p>受限广播地址(255.255.255.255)无法转发<br>但是直接广播地址(2.255.255.255&#x2F;8)是可以转发的</p>
</blockquote>
<ul>
<li>使用二叉线索查找转发表<br><img src="/../img/ComNetworking/87.png" srcset="/img/loading.gif" lazyload></li>
<li>IP地址与MAC地址<br><img src="/../img/ComNetworking/88.png" srcset="/img/loading.gif" lazyload><ul>
<li>区别<br><img src="/../img/ComNetworking/89.png" srcset="/img/loading.gif" lazyload></li>
</ul>
</li>
<li>地址解析协议ARP<ul>
<li>实现IP通信时使用了两个地址<ul>
<li>IP地址(网络层地址)</li>
<li>MAC地址(数据链路层地址)</li>
</ul>
</li>
<li>作用：已知主机或路由器的IP地址，解析出其相应的MAC地址<ul>
<li>IP分组向下交给数据链路层</li>
<li>数据链路层需要通过MAC地址寻址，于是需要封装MAC地址</li>
<li>在不知道下接口MAC地址的情况下，就需要根据目的IP，解析目的MAC地址</li>
</ul>
</li>
<li>APR高速缓存<ul>
<li>存放IP地址到MAC地址的映射表</li>
<li>映射表动态更新</li>
<li>作用<br><img src="/../img/ComNetworking/90.png" srcset="/img/loading.gif" lazyload><br><img src="/../img/ComNetworking/91.png" srcset="/img/loading.gif" lazyload></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="网际控制报文协议ICMP"><a href="#网际控制报文协议ICMP" class="headerlink" title="网际控制报文协议ICMP"></a>网际控制报文协议ICMP</h2><ul>
<li>概叙<ul>
<li>ICMP允许主机或路由器报告错误情况和提供有关异常报告</li>
<li>由主机和路由器用于网络层通信</li>
<li>ICMP是网络层的互联网标准协议</li>
</ul>
</li>
<li>ICMP报文格式<ul>
<li><img src="/../img/ComNetworking/92.png" srcset="/img/loading.gif" lazyload></li>
<li><img src="/../img/ComNetworking/93.png" srcset="/img/loading.gif" lazyload></li>
</ul>
</li>
<li>ICMP错误报告报文<br><img src="/../img/ComNetworking/94.png" srcset="/img/loading.gif" lazyload></li>
<li>Traceroute和ICMP<br><img src="/../img/ComNetworking/95.png" srcset="/img/loading.gif" lazyload></li>
<li>ICMP询问报文<br><img src="/../img/ComNetworking/96.png" srcset="/img/loading.gif" lazyload></li>
<li>Ping和ICMP<ul>
<li>Ping用来检测两个主机之间的连通性</li>
<li>Ping使用了ICMP回送回答报文</li>
</ul>
</li>
</ul>
<h2 id="IPv6"><a href="#IPv6" class="headerlink" title="IPv6"></a>IPv6</h2><ul>
<li>概叙<ul>
<li><img src="/../img/ComNetworking/97.png" srcset="/img/loading.gif" lazyload></li>
</ul>
</li>
<li>IPv6的一般形式<ul>
<li><img src="/../img/ComNetworking/98.png" srcset="/img/loading.gif" lazyload></li>
<li>基本首部<br><img src="/../img/ComNetworking/99.png" srcset="/img/loading.gif" lazyload><ul>
<li><strong>版本</strong>：4位，指明协议的版本，IPv6字段是6</li>
<li><strong>通信量</strong>：8位，这是为了区分不同的IPv6数据报的类别或优先级</li>
<li><strong>流标号</strong>：20位，”流”是互联网上从特定源点到特定终点的一系列数据白，所属同一个流的数据报都具有同样的流标号。资源预分配时使用，对实时音频&#x2F;视频数据报的传送特别有用</li>
<li><strong>有效载荷长度</strong>：16位。指明了IPv6数据报除基本首部以外的字节数(k扩展首部+数据)</li>
<li><strong>下一个首部</strong>：8位，相当于IPv4的协议字段或可选字段，可能是TCP&#x2F;UDP&#x2F;ICMP等，也可能是扩展头</li>
<li><strong>跳数限制</strong>：8位，相当于IPv4的TTL，最大值255，为0时丢弃</li>
<li><strong>源地址</strong>：128位，是数据报的发送站的IP地址</li>
<li><strong>目的地址</strong>：128位，是数据报的接受站IP地址</li>
</ul>
</li>
<li>扩展首部<br><img src="/../img/ComNetworking/100.png" srcset="/img/loading.gif" lazyload></li>
</ul>
</li>
<li>IPv6的地址<ul>
<li>每个地址占128位</li>
<li>三种基本类型<ul>
<li>单播：传统点对点通信</li>
<li>多播：一点对多点的通信</li>
<li>任播：IPv6增加的一种类型。任播的终点是一组计算机，但数据报在交付时只交付其中的一个。通常时按照路由算法得出的距离最近一个</li>
</ul>
</li>
<li>冒号十六进制记法<ul>
<li><img src="/../img/ComNetworking/101.png" srcset="/img/loading.gif" lazyload></li>
<li>零压缩：一串连续的零可以用一对冒号(::)取代</li>
<li>在任一地址中，只能使用一次零压缩</li>
</ul>
</li>
<li>点分十进制记法的后缀<ul>
<li>结合使用点分十进制记法的后缀在IPv4的后缀在IPv4向IPv6的转换阶段特别有用</li>
<li>前缀的表示方法<ul>
<li>CIDR的<strong>斜线表示法</strong>仍然可以使用，<strong>但取消了子网掩码</strong></li>
<li><img src="/../img/ComNetworking/102.png" srcset="/img/loading.gif" lazyload></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>IPv6地址配置方式<ul>
<li>手动配置</li>
<li>DHCPv6(IPv6动态主机配置协议)</li>
<li>无状态地址自动配置，基于<strong>邻居发现协议</strong>(ND)的<strong>路由请求报文</strong>(RS)的IPv6前缀信息，结合自己的链路层地址生存IPv6地址</li>
</ul>
</li>
<li>IPv4向IPv6过渡<ul>
<li>两种过渡策略<ul>
<li>使用双协议栈<ul>
<li><img src="/../img/ComNetworking/103.png" srcset="/img/loading.gif" lazyload></li>
</ul>
</li>
<li>使用隧道技术<ul>
<li><img src="/../img/ComNetworking/104.png" srcset="/img/loading.gif" lazyload></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>ICMPv6<br><img src="/../img/ComNetworking/105.png" srcset="/img/loading.gif" lazyload></li>
</ul>
<h2 id="互联网的路由选择协议"><a href="#互联网的路由选择协议" class="headerlink" title="互联网的路由选择协议"></a>互联网的路由选择协议</h2><ul>
<li>理想的路由算法<ul>
<li>算法必须是<strong>正确的和完整的</strong></li>
<li>算法在计算上应<strong>简单</strong></li>
<li>算法应能适应通信量和网络拓扑的变化，要有<strong>自适应</strong></li>
<li>算法应具有<strong>稳定性</strong></li>
<li>算法应是<strong>公平的</strong></li>
<li>算法应是<strong>最佳的</strong></li>
</ul>
</li>
<li>路由选择非常复杂<ul>
<li>需要许多路由器协同动作</li>
<li>环境不断变化，而这种变化有时无法事先知道</li>
<li>当网络发生拥塞时，很难获得所需要的路由选择信息</li>
</ul>
</li>
<li>根据路由算法是否随网络的通信量或拓扑自适应划分<ul>
<li>静态路由选择策略<ul>
<li>非自适应路由选择</li>
<li>不能及时适应网络状态的变化</li>
<li>简单，开销较小</li>
</ul>
</li>
<li>动态路由选择策略<ul>
<li>自适应路由选择</li>
<li>能较好地适应网络状态的变化</li>
<li>能较好适应网络状态的变化</li>
<li>实现较为复杂，开销较大</li>
</ul>
</li>
</ul>
</li>
<li>分层次的路由选择协议 <ul>
<li><img src="/../img/ComNetworking/109.png" srcset="/img/loading.gif" lazyload></li>
<li>互联网由大量不同的网络互连，每个管理机构控制的网络时自治的 </li>
<li>自治系统<ul>
<li><img src="/../img/ComNetworking/110.png" srcset="/img/loading.gif" lazyload></li>
</ul>
</li>
<li>自治系统内部使用内部网关路由协议<ul>
<li>OSPF,RIP,IS-IS,EIGRP</li>
</ul>
</li>
<li>自治系统之间使用外部网关路由协议<ul>
<li>BGP<br><img src="/../img/ComNetworking/110.png" srcset="/img/loading.gif" lazyload><br><img src="/../img/ComNetworking/113.png" srcset="/img/loading.gif" lazyload></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="RIP协议"><a href="#RIP协议" class="headerlink" title="RIP协议"></a>RIP协议</h3><ul>
<li>是一种<strong>分布式的，基于距离向量</strong>的路由选择协议</li>
<li>最大优点：简单</li>
<li>要求网络中的每个路由器都要<strong>维护</strong>从它自己到其他每一个目的网络的<strong>距离记录</strong></li>
<li>距离的定义<br><img src="/../img/ComNetworking/106.png" srcset="/img/loading.gif" lazyload></li>
<li>特点<ul>
<li>仅和<strong>相邻</strong>路由器交换信息</li>
<li>交换信息是当前本路由器所知道的<strong>全部信息</strong>，即自己的路由表<ul>
<li>路由表表项：目的网络，距离，下一跳</li>
</ul>
</li>
<li>按固定时间间隔交换路由信息</li>
<li>好消息传播得块，坏消息传播得慢</li>
</ul>
</li>
<li>距离向量算法<br><img src="/../img/ComNetworking/107.png" srcset="/img/loading.gif" lazyload><br><img src="/../img/ComNetworking/107.png" srcset="/img/loading.gif" lazyload></li>
<li>优缺点<ul>
<li>优点<ul>
<li>实现简单，开销较小</li>
</ul>
</li>
<li>缺点<ul>
<li>网络规模有限。最大距离为15</li>
<li>交换得路由信息为完整路由表，开销较大</li>
<li>坏消息传播得慢，收敛时间过长</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="OSPF"><a href="#OSPF" class="headerlink" title="OSPF"></a>OSPF</h3><ul>
<li>采用<strong>Dijkstra</strong>提出得最短路径算法SPF</li>
<li>采用<strong>分布式的链路状态协议</strong></li>
<li>现在使用OSPFv2</li>
<li>特点<ul>
<li>向本自治系统中所有路由器<strong>洪泛</strong>信息</li>
<li>发送的信息是与本地路由器<strong>相邻</strong>的所有路由器的链路状态</li>
<li>只有<strong>当链路状态发生变化时</strong>路由器才用洪泛发生此信息</li>
<li>适用于更大的网络，为加快收敛，便于管理，使用层次结构的区域划分，以缩小LSDB规模，减少网络流量<br><img src="/../img/ComNetworking/112.png" srcset="/img/loading.gif" lazyload></li>
</ul>
</li>
<li>优点<ul>
<li>减少整个网络上的通信量</li>
<li>减少了需要维护的状态数量</li>
</ul>
</li>
<li>缺点<ul>
<li>交换信息的种类增多了</li>
<li>使OSPF更加复杂了</li>
</ul>
</li>
</ul>
<h3 id="BGP协议"><a href="#BGP协议" class="headerlink" title="BGP协议"></a>BGP协议</h3><ul>
<li>主要特点<ul>
<li>力求选择出一条能够跨域AS达到目的网络且比<strong>较好的路由</strong>，而<strong>并非要计算出一条最佳路由</strong></li>
<li>采用<strong>路径向量</strong>路由选择协议</li>
</ul>
</li>
<li>eBGP和iBGP连接(使用TCP连接)<br> <img src="/../img/ComNetworking/114.png" srcset="/img/loading.gif" lazyload></li>
<li>BGP的路由选择顺序<ul>
<li>本地偏好值最高的路由</li>
<li>AS跳数最小的路由</li>
<li>最近的下一跳路由器</li>
<li>最小路由器ID</li>
</ul>
</li>
</ul>
<h3 id="路由器工作原理"><a href="#路由器工作原理" class="headerlink" title="路由器工作原理"></a>路由器工作原理</h3><ul>
<li>路由器工作在网络层，用于在<strong>不同网络之间转发分组</strong></li>
<li>在路由器之间传送的信息以下2大类<ul>
<li>主机之间需要传送的<strong>数据</strong></li>
<li><strong>路由信息</strong>(为数据传送服务)</li>
<li>第二类信息的传送使为第一类信息服务</li>
</ul>
</li>
<li>路由器包含两个核心功能<ul>
<li><strong>控制层面</strong>：运行各种协议(BGP,OSPF,RIP等)，学习去往不同目的的转发路径(路由表)</li>
<li><strong>数据层面</strong>：根据上述路由表，将收到的IP分组转发到正确的下一跳链路</li>
</ul>
</li>
<li>路由器的结构<br><img src="/../img/ComNetworking/115.png" srcset="/img/loading.gif" lazyload></li>
<li>路由器中IP报文转发核心功能<br><img src="/../img/ComNetworking/116.png" srcset="/img/loading.gif" lazyload></li>
</ul>
<h2 id="IP多播"><a href="#IP多播" class="headerlink" title="IP多播"></a>IP多播</h2><ul>
<li><p>源主机给网络中的一部分目标用户发送数据包</p>
</li>
<li><p>目的：更好地支持一对多通信</p>
</li>
<li><p>一对多通信：一个源点发送到许多个终点</p>
</li>
<li><p>多播IP地址</p>
<ul>
<li>在IP多播数据报的目的地址使用IP地址的<strong>D类地址</strong>(多播地址)<ul>
<li>地址范围：224.0.0.0~239.255.255.255</li>
</ul>
</li>
<li>局域网多播地址(一跳子网内使用)</li>
</ul>
</li>
<li><p>多播硬件地址</p>
<ul>
<li>TCP&#x2F;IP协议使用的以太网地址多播地址的范围是<ul>
<li>从00-00-5E-00-00-00到00-00-5E-FF-FF-FF</li>
</ul>
</li>
<li>所有通信<strong>都使用IP多播</strong>。只要有可能，都用<strong>硬件多播</strong>来传送，以减小网络开销</li>
</ul>
</li>
<li><p>多播路由：多播路由选择协议多播路由器协同工作，把多播数据报用最小代价传送给多播组的所有成员</p>
<ul>
<li>世纪上就是要找出以源主机为根结节点的<strong>多播转发树(生成树)</strong></li>
<li>不同的多播组对应不同的多播转发树</li>
<li>数据报沿生成树发送</li>
<li>转发多播数据报时使用三种方法<ul>
<li>洪泛与剪除<ul>
<li>适用于较小的多播组，所有组成员接入的局域网也是相邻接的</li>
<li>为避免兜圈子，采用<strong>反向路径广播RPB</strong>的策略，即受控制的洪泛</li>
</ul>
</li>
<li>隧道技术<ul>
<li>隧道：可以使用多播数据报穿越不支持多播的网络</li>
</ul>
</li>
<li>基于核心的发现技术<ul>
<li>最佳生成树的使用取决于组的密度分布<ul>
<li>密集分布：接受者遍布在网络的大部分区域(基于源点树)<ul>
<li>链路状态路由算法：每个路由器针对组内的每个发送者构成一颗独立树；</li>
<li>距离向量路由算法：逆向路径转发，修剪没有组成员的路由器</li>
</ul>
</li>
<li>稀疏分布：大部分网络区域都不属于组播组(基于核心树)<ul>
<li>多个组播共享树</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="虚拟专用网VPN"><a href="#虚拟专用网VPN" class="headerlink" title="虚拟专用网VPN"></a>虚拟专用网VPN</h2><ul>
<li>虚拟专用网VPN利用<strong>公用互联网</strong>作为本机构各<strong>专用网之间</strong>的<strong>通信载体</strong><ul>
<li>专用网：指这种网络时为本机构的主机用于机构内部的通信，而不是用于和网络外非本机构的主机通信</li>
<li>虚拟：表示实际上没有使用通信专线，只是在效果上和真正的专用网一样</li>
</ul>
</li>
<li>vpn指利用公用网络架设专用网络的远程访问技术</li>
<li>VPN通过隧道技术在公共网络上模拟出一条点到点的逻辑专线，从而达到安全数据传输的目的</li>
<li>VPN的设计原则<ul>
<li>安全性，隧道与加密，数据验证，用户验证，防火墙与攻击检测<br><img src="/../img/ComNetworking/117.png" srcset="/img/loading.gif" lazyload></li>
</ul>
</li>
</ul>
<h2 id="网络地址转换NAT"><a href="#网络地址转换NAT" class="headerlink" title="网络地址转换NAT"></a>网络地址转换NAT</h2><ul>
<li><p>所有使用本地地址的主机在和外界通信时，都要在NAT路由器上将<strong>本地IP地址</strong>转换成<strong>全球IP地址</strong>，才能和互联网连接</p>
<ul>
<li>当NAT路由器具有n个全球IP地址时，专用网内<strong>最多</strong>可以<strong>同时</strong>有n台主机接入到互联网</li>
<li>可以使专用网内较多数量的主机<strong>轮流</strong>使用NAT路由器有限数量的全球IP地址</li>
<li>并不能节约IP地址</li>
</ul>
</li>
<li><p>网络地址与端口号转换NAPT</p>
<ul>
<li>使用传输端端口号的NAT叫做网络地址与端口号转换</li>
<li>NAPT可以使多台拥有本地地址的主机，<strong>共用</strong>一个全球IP地址，<strong>同时</strong>和互联网上的不同主机进行通信</li>
<li>NAPT把专用网内不同的源IP地址都转换为相同的全球IP地址，将TCP源端口号转换成<strong>不同的</strong>新TCP端口号</li>
<li>收到从互联网发来的应答时，从IP数据报的数据部分找出运输层端口号，从NAPT转换表中找到正确的目的主机<br><img src="/../img/ComNetworking/118.png" srcset="/img/loading.gif" lazyload></li>
</ul>
</li>
</ul>
<h2 id="多协议标签交换MPLS"><a href="#多协议标签交换MPLS" class="headerlink" title="多协议标签交换MPLS"></a>多协议标签交换MPLS</h2><ul>
<li>MPLS<ul>
<li>多协议：在MPLS的上层可以采用多种协议</li>
<li>标签：MPLS利用面向技术连接技术，使每个分组携带一个叫做标签的小整数。标签交互路由器用标签值检索转发表，实现分组的快速转发</li>
</ul>
</li>
<li>MPLS的工作过程<br><img src="/../img/ComNetworking/119.png" srcset="/img/loading.gif" lazyload></li>
<li>MPLS报文结构<ul>
<li>不要求下层的网络都使用面向连接的技术</li>
<li>采用封装技术：在把IP数据报封装成以太网帧之前，先要插入一个MPLS首部</li>
<li>从层次的角度来看，MPLS首部在第二层和第三层之间<br><img src="/../img/ComNetworking/120.png" srcset="/img/loading.gif" lazyload></li>
</ul>
</li>
</ul>
<h2 id="软件定义网络SDN简介"><a href="#软件定义网络SDN简介" class="headerlink" title="软件定义网络SDN简介"></a>软件定义网络SDN简介</h2><ul>
<li>优点<ul>
<li>提高网络带宽利用率</li>
<li>网络运行更加稳定</li>
<li>管理更加高效简化</li>
<li>运行费用明显降低</li>
</ul>
</li>
</ul>
<p><img src="/../img/ComNetworking/121.png" srcset="/img/loading.gif" lazyload></p>
<ul>
<li>SDN与传统网络的差别<br><img src="/../img/ComNetworking/122.png" srcset="/img/loading.gif" lazyload></li>
</ul>
<h1 id="运输层"><a href="#运输层" class="headerlink" title="运输层"></a>运输层</h1><h2 id="概叙-2"><a href="#概叙-2" class="headerlink" title="概叙"></a>概叙</h2><h3 id="为什么需要运输层"><a href="#为什么需要运输层" class="headerlink" title="为什么需要运输层"></a>为什么需要运输层</h3><ul>
<li>网络层实现了异构网络之间的通信，尽最大努力在主机之间交付数据</li>
<li>但仍然遗留一些问题<ul>
<li>参与通信的主机中，到底谁在发送和接受应用程序的数据</li>
<li>如果出现了分组的重复，丢失，失序等不可靠传输的问题，如何处理</li>
</ul>
</li>
<li>传输层：面向通信部分的最高层，用户功能的最底层</li>
<li>进程之间的通信<ul>
<li>主机之间的通信，实际是两台主机中的应用<strong>进程之间的通信</strong>，并且往往是一台主机上的多个进程同时和另一台上的多个进程之间的通信</li>
<li><img src="/../img/ComNetworking/123.png" srcset="/img/loading.gif" lazyload></li>
</ul>
</li>
</ul>
<h3 id="运输层提供的服务"><a href="#运输层提供的服务" class="headerlink" title="运输层提供的服务"></a>运输层提供的服务</h3><ul>
<li>因特网的网络层提供”<strong>尽力而为</strong>“的服务：<ul>
<li>网络层尽最大努力在终端间交付分组，且不提供任何承诺</li>
<li>具体来说，不保证交付，不保证按序交付，不保证数据完整，不保证延迟，不保证带宽</li>
</ul>
</li>
<li>传输层<strong>依赖并扩展网络层的服务，有所为，有所不为：</strong><ul>
<li>传输层可以通过差错恢复，重排序等手段提供可靠，按序的交付服务</li>
<li>但运输层无法提供延迟保证，带宽保证等服务</li>
</ul>
</li>
<li>最低限度(必须要要做)的传输服务<ul>
<li>进程到进程的数据交付<ul>
<li>运输层提供应用进程之间的逻辑通信，在两个运输层实体之间建立<strong>端到端的逻辑通信信道</strong></li>
<li>运输层向高层用户<strong>屏蔽</strong>了下面网络核心的细节</li>
</ul>
</li>
<li>差错检测<ul>
<li>将对运输层报文及其他信息进行检测</li>
<li>网络层的IP首部校验和仅检测IP首部而不检测数据部分</li>
<li>数据链路层校验用于检测收到的帧是否存在比特传输的错误</li>
</ul>
</li>
</ul>
</li>
<li>运输层提供的增加服务：<strong>可靠传输，流量控制，拥塞控制</strong> 等</li>
<li>可靠信道与不可信道<br><img src="/../img/ComNetworking/124.png" srcset="/img/loading.gif" lazyload> </li>
<li>传输协议数据单元<ul>
<li>两个对等运输实体在通信是传送的数据单位叫做<strong>运输协议数据单元TPDU</strong></li>
<li>TCP传送的数据单位协议是<strong>TCP报文段</strong></li>
<li>UDP传送的数据单位协议是<strong>UDP报文</strong>或<strong>用户数据报</strong></li>
</ul>
</li>
<li>UDP与TCP的区别<br><img src="/../img/ComNetworking/125.png" srcset="/img/loading.gif" lazyload></li>
</ul>
<h3 id="运输层的端口"><a href="#运输层的端口" class="headerlink" title="运输层的端口"></a>运输层的端口</h3><ul>
<li><strong>复用</strong>:应用进程都可以通过运输层再传送到IP层(网络层)</li>
<li><strong>分用</strong>:运输层从IP层收到发送给应用进程的数据后，必须分别交付给<strong>指明的</strong>各应用进程</li>
<li><strong>协议端口号</strong>，简称为<strong>端口</strong><ul>
<li><strong>端口是通信的抽象终点</strong></li>
<li>在一台主机中准确的找到某个进程</li>
<li>不受操作系统的限制</li>
<li>实现异构系统之间的通信</li>
</ul>
</li>
<li>运输层协议把数据交给指定的端口，而不关心接口所代表的功能</li>
<li>操作系统只要让正确的进程对应正确的端口，那交付就不会出错</li>
<li>端口用一个<strong>16位端口号</strong>进行标志，允许有65535个不同的端口号</li>
<li>端口号只具有<strong>本地意义</strong>，只是为了标志<strong>本计算机应用层中的各进程</strong></li>
<li>在互联网中，不同计算机的相同端口号没有联系<br><img src="/../img/ComNetworking/126.png" srcset="/img/loading.gif" lazyload></li>
<li>通信需要同时知道对方的IP地址和端口号</li>
<li>套接字socket &#x3D; (IP地址:端口号)</li>
<li>UDP的套接字<ul>
<li>使用&lt;IP地址,端口号&gt;二元组进行标识</li>
<li>&lt;目的IP地址,目的端口号&gt;相同的UDP报文字段交付给同一个套接字，与&lt;源IP地址,源端口号&gt;</li>
</ul>
</li>
<li>TCP的套接字 <ul>
<li>&lt;源IP地址,源端口号,目的IP地址,目的端口号&gt;</li>
<li>一个TCP服务器为了同时服务多个客户，使用监听套接字和连接套接字</li>
<li>每个连接套接字只与一个客户通信，即只接受以下四元组的报文段<ul>
<li>源IP地址 &#x3D; 客户IP地址, 源端口号 &#x3D; 客户套接字端口号,</li>
<li>目的IP地址 &#x3D; 服务器IP地址,目的端口号 &#x3D; 服务器监听套接字的端口号</li>
</ul>
</li>
<li>同一个IP地址可以有多个不同的TCP连接</li>
<li>同一个端口号也可以出现多个不同的TCP连接中</li>
</ul>
</li>
</ul>
<h2 id="用户数据报协议UDP"><a href="#用户数据报协议UDP" class="headerlink" title="用户数据报协议UDP"></a>用户数据报协议UDP</h2><h3 id="概叙-3"><a href="#概叙-3" class="headerlink" title="概叙"></a>概叙</h3><ul>
<li>UDP只在IP的数据报服务上增加了一些功能<ol>
<li>复用和分用</li>
<li>差错检测</li>
</ol>
</li>
</ul>
<h3 id="主要特点"><a href="#主要特点" class="headerlink" title="主要特点"></a>主要特点</h3><ul>
<li><strong>无连接</strong>。发送数据之前不要建立连接</li>
<li><strong>使用尽最大努力交付</strong>。即不保证可靠交付</li>
<li><strong>面向报文</strong>。UDP一次传送和交付一个完整的报文<br><img src="/../img/ComNetworking/127.png" srcset="/img/loading.gif" lazyload></li>
<li><strong>没有拥塞控制</strong>。不会因网络拥塞降低源主机的发送速率，适合某些实时多媒体通信</li>
<li>支持<strong>一对一、一对多、多对一、多对多</strong>等交互通信</li>
<li><strong>首部开销小</strong>，只有8个字节</li>
</ul>
<blockquote>
<p>为什需要UDP？</p>
</blockquote>
<ul>
<li>应用可以尽可能块地发送报文<ul>
<li>无建立连接的延迟</li>
<li>不限制发送速率(不进行拥塞控制和流量控制)</li>
</ul>
</li>
<li>报头开销小</li>
<li>协议处理简单</li>
</ul>
<blockquote>
<p>UDP适合哪些应用</p>
</blockquote>
<ul>
<li>容忍丢包但对延迟敏感的应用：IP电话，视频会议，多媒体应用等</li>
<li>以单次请求&#x2F;响应为主的应用：DNS,RIP,DHCP等</li>
<li>若应用要求基于UDP进行可靠传输：由应用层实现可靠性</li>
</ul>
<h3 id="UDP首部"><a href="#UDP首部" class="headerlink" title="UDP首部"></a>UDP首部</h3><p><img src="/../img/ComNetworking/128.png" srcset="/img/loading.gif" lazyload></p>
<ul>
<li>源端口：在需要对方回信时选用。不需要时可用全0</li>
<li>目的端口：终点交付报文时必须使用<ul>
<li>如果接收方UDP发现收到的报文中的端口号不正确(即不存在对应于该端口号的应用进程)，就丢弃该报文，并由ICMP发送”端口不可达”错误报文给发送方</li>
</ul>
</li>
<li>长度：UDP用户数据报的长度，其最小值是8(仅有首部)</li>
<li>校验和：检测UDP用户数据报在传输中是否由错，首部和数据部分一起参加计算，有错就丢弃<ul>
<li>在计算检验和时，临时把12字节的”伪首部”和UDP用户数据报连接在一起。伪首部仅仅是为了计算检验和<br><img src="/../img/ComNetworking/129.png" srcset="/img/loading.gif" lazyload></li>
</ul>
</li>
</ul>
<h2 id="传输控制协议TCP"><a href="#传输控制协议TCP" class="headerlink" title="传输控制协议TCP"></a>传输控制协议TCP</h2><h3 id="概叙-4"><a href="#概叙-4" class="headerlink" title="概叙"></a>概叙</h3><p>TCP是<strong>面向连接</strong>的运输层协议，在无连接、不可靠的IP地址网络基础之上提供<strong>可靠交付</strong>的服务。为此，在IP的数据报服务基础之上，增加了保证可靠性的一系列措施</p>
<h3 id="主要特点-1"><a href="#主要特点-1" class="headerlink" title="主要特点"></a>主要特点</h3><ul>
<li>TCP是<strong>面向连接</strong>的运输层协议</li>
<li>每一条TCP来连接<strong>只能有两个端点</strong>，每一条TCP连接只能是<strong>点对点</strong>的</li>
<li>TCP在无连接、不可靠的IP地址之上，提供面向连接的<strong>可靠交付</strong>服务：流水线式发送、报文段检错，丢失重传</li>
<li>TCP提供<strong>全双工</strong>通信，发送方和接收方可以同时与对方收发数据<ul>
<li>面向连接<br><img src="/../img/ComNetworking/130.png" srcset="/img/loading.gif" lazyload></li>
</ul>
</li>
<li>面向字节流<ul>
<li>TCP中的”流”指的是流入或流出进程的<strong>字节序列</strong></li>
<li><strong>面向字节流</strong>:可靠，有序的字节流，不保留报文边界</li>
<li>发送的字节流和接受的字节流完全一致</li>
</ul>
</li>
</ul>
<h3 id="TCP首部"><a href="#TCP首部" class="headerlink" title="TCP首部"></a>TCP首部</h3><ul>
<li><p>TCP传送的数据单元是报文段</p>
</li>
<li><p>一个TCP报文段分为首部和数据两部分</p>
</li>
<li><p>TCP报文段首部的前220字节是固定的，后面有4n个字节是根据需要而增加的选项。TCP首部的最小长度是20字节<br><img src="/../img/ComNetworking/131.png" srcset="/img/loading.gif" lazyload></p>
</li>
<li><p><strong>源端口和目的端口</strong>：各占2字节，是运输层与应用层的服务接口</p>
</li>
<li><p><strong>序号</strong>:占4字节。TCP连接中传送的数据流中的<strong>每一个字节</strong>都一个序号。序号字段的值则是指的是<strong>本报文段所发送的数据的第一字节</strong>的序号</p>
</li>
<li><p><strong>确认号</strong>：占4个字节。是<strong>期望收到</strong>对方的下一个报文段的数据的第一个字节的序号</p>
</li>
<li><p><strong>数据偏移</strong>：占4位。指出TCP报文段的<strong>数据起始</strong>处距离TCP<strong>报文段起始</strong>处有多远，即TCP头部长度。以4字节为计算单位</p>
</li>
<li><p>标志位(位大小都为1)</p>
<ul>
<li><strong>保留位</strong>：占6位，保留为以后使用，但目前有应置为0</li>
<li><strong>紧急UGR</strong>：当URG&#x3D;1时，表明紧急指针字段有效，告诉系统此报文段中有紧急数据，应尽快传送</li>
<li><strong>确认ACK</strong>:当ACK&#x3D;1时，确认号字段才有效</li>
<li><strong>推送PSH</strong>：接受TCP收到PSH&#x3D;1的报文段后，就尽快交付接受应用进程，而不再等到整个缓存都填满后再交付</li>
<li><strong>复位PST</strong>：当RST&#x3D;1时，表明TCP连接中出现严重错误，必须释放连接，然后再重新建立运输连接</li>
<li><strong>同步SYN</strong>：SYN&#x3D;1表示时一个连接请求或连接接受的报文<ul>
<li>当SYN&#x3D;1，ACK&#x3D;0，这是一个连接请求报文字段</li>
<li>当SYN&#x3D;1，ACK&#x3D;1，这是一个连接接受报文字段</li>
</ul>
</li>
<li><strong>终止FIN</strong>：FIN&#x3D;1表明此报文段的发送端的数据已发送完毕，并要求释放运输连接</li>
</ul>
</li>
<li><p><strong>窗口</strong>：接受方目前允许对方发送的数据量(以字节为单位)，窗口值是动态变化的 </p>
</li>
<li><p><strong>校验和</strong>：占2字节。检验和字段检验的范围包括首部和数据这两部分。在计算检验和时，要在TCP报文段的前面加上12字节的<strong>伪首部</strong><br><img src="/../img/ComNetworking/132.png" srcset="/img/loading.gif" lazyload></p>
</li>
<li><p><strong>紧急指针</strong>：占2字节。在URG&#x3D;1时，指出本报文段中的紧急数据的字节数(紧急数据结束后就是普通数据)，指出了紧急数据的末尾在报文段中的位置</p>
</li>
<li><p><strong>选项</strong>:长度可变，最长可达40字节</p>
</li>
<li><p><strong>填充</strong>：使整个TCP首部长度是4字节的整数倍</p>
</li>
<li><p><strong>最大报文段长度MSS</strong>：是每个TCP报文段中的数据字段的最大长度，<strong>与接受窗口值没有关系</strong></p>
</li>
<li><p>建立连接时，每个主机可声明自己能够接受的MSS，缺省为536字节<br><img src="/../img/ComNetworking/133.png" srcset="/img/loading.gif" lazyload></p>
</li>
<li><p>窗口扩大：建立连接时，双方可以协商一个窗口比例因子</p>
</li>
<li><p>时间戳：占10字节，主要时间戳值字段(4字节)和时间戳送回答字段(4字节)</p>
<ul>
<li>两个主要功能<ul>
<li>计算往返时间RTT</li>
<li>防止序号绕回PAWS：序号空间对于高宽带很容易消耗完。序号重复时，时间戳可以使接受方能够把<strong>新报文段</strong>和迟到很久的<strong>旧报文段</strong>区分开</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="可靠传输工作原理"><a href="#可靠传输工作原理" class="headerlink" title="可靠传输工作原理"></a>可靠传输工作原理</h2><blockquote>
<p>理想传输条件的特点</p>
</blockquote>
<ol>
<li>传输信道不产生差错(不纠错)</li>
<li>不管发送方以多块的数据发送数据，接受方总是来得及收到的数据(不进行流量控制)</li>
</ol>
<h3 id="停止等待协议"><a href="#停止等待协议" class="headerlink" title="停止等待协议"></a>停止等待协议</h3><ul>
<li>没发送完一个分组就停止发送，等待对方的确认。在确认后再发送下一个分组。确认的内容不重要</li>
<li>全双工通信的双方即是发送方也是接收方</li>
</ul>
<ol>
<li>无差错情况<br><img src="/../img/ComNetworking/134.png" srcset="/img/loading.gif" lazyload></li>
<li>出现差错<br><img src="/../img/ComNetworking/135.png" srcset="/img/loading.gif" lazyload><br>解决方法:超时重传<br><img src="/../img/ComNetworking/136.png" srcset="/img/loading.gif" lazyload></li>
<li>确认丢失和确认迟到<ul>
<li>确认丢失<br><img src="/../img/ComNetworking/137.png" srcset="/img/loading.gif" lazyload></li>
<li>确认迟到<br><img src="/../img/ComNetworking/138.png" srcset="/img/loading.gif" lazyload></li>
</ul>
</li>
</ol>
<blockquote>
<p>停止等待协议要点<br><strong>停止等待</strong>:发送方每次只发送一个分组，在收到确认后再发一个分组<br><strong>暂存</strong>：在发送完一个分组后，发送方必须暂存已发的分组的副本，以备重发<br><strong>编号</strong>：对方发送的每个分组和确认都进行编号<br><strong>超时重传</strong>:发送方为发送的每一个分组设置一个超时计时器。若计时器超时未收到确认，发送方会<strong>自动</strong>超时重传分组<br>超时计时器的重传时间应当比数据在分组传输的平均往返时间更长一些，防止不必要的重传<br>自动重传请求ARQ:重传的请求是<strong>发送方</strong>自动进行的</p>
</blockquote>
<p>信道利用率<br>停止-等待机制<strong>降低</strong>了信道利用率<br>解决办法：通过流水线传输提高效率 </p>
<ul>
<li>流水线传输：在收到确认之前，发送方连续发出多个分组，使得信道上一直有数据不间断地传送，提高信道利用率</li>
<li>连续ARQ协议和滑动窗口协议采用流水线传输方式</li>
</ul>
<h3 id="连续ARQ协议"><a href="#连续ARQ协议" class="headerlink" title="连续ARQ协议"></a>连续ARQ协议</h3><ul>
<li><strong>发送窗口</strong>:发送方维持一个发送窗口，位于发送窗口内得分组都可以被连续发送出去，而不需要等待对方得确认。即发送方一次可以发送多个分组</li>
<li><strong>发送窗口滑动</strong>:发送方每收到一个确认，就把发送窗口向前活动一个分组得位置。控制发送方和控制方所能发送和接收得分组的数量和编号<br><img src="/../img/ComNetworking/139.png" srcset="/img/loading.gif" lazyload></li>
<li>累积确认:接收方对按序达到的最后一个分组发送确认，表示这个分组为止的所有分组都已正确收到了<br><img src="/../img/ComNetworking/140.png" srcset="/img/loading.gif" lazyload><ul>
<li>优点:容易实现，即使确认丢失也不必重传</li>
<li>缺点:不能向发送方反映出接收方已经正确收到所有的分组的信息</li>
</ul>
</li>
<li>连续ARQ协议采用GO-back-N(回退N)<ul>
<li>**GO-back-N(回退N)**：表示需要再2退回来重传已发送过的N个分组</li>
<li>基本原理<ul>
<li>当发送方发送N个帧后，若发现该N帧的前一个帧在计时器超时后仍为未返回其确认信息，则该帧被判为出错或丢失，此时发送方就重新发送出错帧以其后的N帧</li>
</ul>
</li>
<li>当通信线路质量不好时，连续ARQ协议会带来负面的影响</li>
</ul>
</li>
</ul>
<h3 id="连续ARQ协议与停止等待协议对比"><a href="#连续ARQ协议与停止等待协议对比" class="headerlink" title="连续ARQ协议与停止等待协议对比"></a>连续ARQ协议与停止等待协议对比</h3><p><img src="/../img/ComNetworking/141.png" srcset="/img/loading.gif" lazyload></p>
<h2 id="TCP可靠传输的实现"><a href="#TCP可靠传输的实现" class="headerlink" title="TCP可靠传输的实现"></a>TCP可靠传输的实现</h2><h3 id="以字节为单位的滑动窗口"><a href="#以字节为单位的滑动窗口" class="headerlink" title="以字节为单位的滑动窗口"></a>以字节为单位的滑动窗口</h3><ul>
<li><p>TCP使用流水线传输和滑动窗口协议实现高效、可靠的传输</p>
</li>
<li><p>TCP的滑动窗口是<strong>以字节为单位</strong>的</p>
</li>
<li><p>发送方A和接受方B分别维持一个<strong>发送窗口</strong>和一<strong>个接受窗口</strong></p>
<ul>
<li>发送窗口：只允许发送<strong>落入</strong>窗口内的数据，<strong>连续</strong>把窗口内的数据<strong>全部发出去</strong>。凡是已经发送过的数据，在未收到确认之前都必须<strong>暂时保留</strong>，以便在超时重传时使用<br><img src="/../img/ComNetworking/142.png" srcset="/img/loading.gif" lazyload><ul>
<li>例子<br><img src="/../img/ComNetworking/143.png" srcset="/img/loading.gif" lazyload></li>
</ul>
</li>
<li>接受窗口:只允许接受<strong>落入</strong>窗口内的数据<br><img src="/../img/ComNetworking/144.png" srcset="/img/loading.gif" lazyload></li>
</ul>
</li>
<li><p>窗口与缓存的关系</p>
<ul>
<li><img src="/../img/ComNetworking/145.png" srcset="/img/loading.gif" lazyload></li>
<li><img src="/../img/ComNetworking/146.png" srcset="/img/loading.gif" lazyload></li>
</ul>
</li>
</ul>
<h3 id="超时重传时间的选择"><a href="#超时重传时间的选择" class="headerlink" title="超时重传时间的选择"></a>超时重传时间的选择</h3><ul>
<li>TCP发送方在规定时间内没有收到确认就要重传已发送的报文段</li>
<li>但互联网环境复杂，IP数据报所选择的路由变化很大，往返时间(RTT,发出报文到收到确认到时间间隔)的变化很大，重传时间难以测定<ul>
<li>太短会引起很多报文段的不必要的重传，使得网络负荷增大</li>
<li>太长会使网络的空闲时间增大，降低传输效率</li>
</ul>
</li>
<li>加权往返时间<ul>
<li><img src="/../img/ComNetworking/147.png" srcset="/img/loading.gif" lazyload></li>
</ul>
</li>
<li>超时重传时间RTO<ul>
<li><img src="/../img/ComNetworking/148.png" srcset="/img/loading.gif" lazyload></li>
</ul>
</li>
<li>Karm算法<ul>
<li>TCP存在二义性，使得测量到的RRT不准确<ul>
<li>重传的TCP报文段使用与原报文段相同的序号</li>
<li>发送方收到确认后，无法得知是对哪个报文段进行的确认</li>
</ul>
</li>
<li>解决方法<ul>
<li>在计算平均往返时间RRT时，只要报文段重传了，就不采取往返时间样本</li>
</ul>
</li>
<li><img src="/../img/ComNetworking/149.png" srcset="/img/loading.gif" lazyload></li>
</ul>
</li>
</ul>
<h3 id="选择确认SACK"><a href="#选择确认SACK" class="headerlink" title="选择确认SACK"></a>选择确认SACK</h3><blockquote>
<p>若收到的报文段无差错，只是未按序号，中间还缺少一些序号的数据，，那么能否设法<strong>只传送缺少的数据</strong>而不重传已经正确到达接受方的数据<br>在TCP首部中都增加可选字段SACK，以便报告收到的<strong>不连续的字节块的边界</strong></p>
</blockquote>
<h2 id="TCP的流量控制"><a href="#TCP的流量控制" class="headerlink" title="TCP的流量控制"></a>TCP的流量控制</h2><blockquote>
<p>为什么要进行流量控制</p>
</blockquote>
<ul>
<li>通过确认和重传机制，可以让发送方确认接收方已正确收到数据</li>
<li>接收方收不到数据，则无法作出确认</li>
<li>大量丢包和重传，显然不是一种高效的工作方式</li>
</ul>
<h3 id="利用滑动窗口实现流量控制"><a href="#利用滑动窗口实现流量控制" class="headerlink" title="利用滑动窗口实现流量控制"></a>利用滑动窗口实现流量控制</h3><ul>
<li>流量控制:让发送方的发送速率不要太快</li>
<li>利用滑动窗口机制可以很方便地在TCP连接上实现对发送方的流量控制<br><img src="/../img/ComNetworking/150.png" srcset="/img/loading.gif" lazyload></li>
<li>接受窗口为0的僵局<br><img src="/../img/ComNetworking/151.png" srcset="/img/loading.gif" lazyload></li>
</ul>
<h3 id="TCP的传输效率"><a href="#TCP的传输效率" class="headerlink" title="TCP的传输效率"></a>TCP的传输效率</h3><ul>
<li>TCP会在三种机制下发送报文段<ol>
<li>缓存中存放的数据达到预先设定的最大报文段长度MSS字节时，就组装成一个TCP报文段发送出去</li>
<li>由发送方的应用进程指明要发送报文段(推送操作)</li>
<li>发送方的某个计时器期限到了，这时就把当前已有的缓存数据装入报文段(长度不超过MSS)发送出去</li>
</ol>
</li>
<li>糊涂窗口综合症<ul>
<li>每次仅发送一个字节或很少几个字节的数据时，有效数据传输效率变得很低的现象</li>
<li>解决方法<ul>
<li>Nagle算法(发送方会等待读一点数据再发送)<br><img src="/../img/ComNetworking/152.png" srcset="/img/loading.gif" lazyload></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="TCP拥塞控制"><a href="#TCP拥塞控制" class="headerlink" title="TCP拥塞控制"></a>TCP拥塞控制</h2><h3 id="拥塞控制的一般原理"><a href="#拥塞控制的一般原理" class="headerlink" title="拥塞控制的一般原理"></a>拥塞控制的一般原理</h3><ul>
<li>在某段时间，若网络中有许多资源同时产生拥挤的情况，网络的性能就要明显变坏，整个网络的吞吐量将输入负荷的增大而下降，这种现象称为拥塞</li>
<li>表现：分组延迟增大，网络吞吐量下降，甚至降为0(系统奔溃)</li>
<li>起因：大量分组短时间内进入网络，超过网络的处理能力<ul>
<li>节点缓存容量太小</li>
<li>链路容量不足</li>
<li>处理机处理速率太慢</li>
<li>拥塞本身会进一步加剧拥塞</li>
</ul>
</li>
<li>单纯靠增加某个设备的资源，在许多情况下，不但不能解决拥塞问题，而且还可能使网络的性能更坏</li>
<li>拥塞是一个<strong>全局问题</strong>，网络整体资源的增加肯定是有用的</li>
<li>但完全依赖增加资源不能解决拥塞，我们对网络资源的需求是无限的，但网络资源不是无限的</li>
</ul>
<h4 id="拥塞控制"><a href="#拥塞控制" class="headerlink" title="拥塞控制"></a>拥塞控制</h4><ul>
<li><p>解决拥塞的方法：</p>
<ul>
<li><strong>增加资源(较少资源需求)+控制发送量(拥塞控制)</strong></li>
</ul>
</li>
<li><p><strong>拥塞控制</strong>就是防止过多的数据注入网络中，使网络中的路由器或链路不致过载</p>
</li>
<li><p><strong>拥塞控制的前提</strong>:网络能够承受现有的网络负荷</p>
</li>
<li><p>网络拥塞是一个非常复杂的<strong>动态</strong>问题，拥塞控制是否合理，直接影响网络性能和效率</p>
</li>
<li><p>在许多情况下，甚至正是<strong>拥塞控制本身</strong>成为引起网络性能恶化，甚至发发生死锁的原因</p>
</li>
<li><p>开环控制</p>
<ul>
<li>在设计网络时，<strong>事先考虑周全</strong>，力求工作时不发生拥塞</li>
<li>但一旦整个系统运行起来，就不再中途进行改正</li>
</ul>
</li>
<li><p>闭环控制</p>
<ul>
<li>基于反馈环路的概念</li>
<li>根据网络<strong>当前运行状态</strong>采取相应控制措施</li>
<li>思路:检测网络发生拥塞的位置和时机，并采取措施进行控制，消除拥塞</li>
<li>采取的策略<ul>
<li>发生”通知拥塞发生”的分组给源站</li>
<li>在分组中保留表示拥塞状态的字段</li>
<li>周期性地发出探测分组等</li>
<li>选择合适的时机调整网络状态</li>
</ul>
</li>
</ul>
</li>
<li><p>分组的丢失是网络发生拥塞的<strong>征兆</strong>，而不是<strong>原因</strong></p>
</li>
</ul>
<h3 id="TCP的拥塞控制方法"><a href="#TCP的拥塞控制方法" class="headerlink" title="TCP的拥塞控制方法"></a>TCP的拥塞控制方法</h3><ul>
<li>TCP采用<strong>基于滑动窗口的方法</strong>进行闭环拥塞控制</li>
<li>发生方维持一个<strong>拥塞窗口</strong>，控制发送速率<ul>
<li>拥塞窗口的大小取决于网络的拥塞程度，并且动态地在变化</li>
<li>发送端利用拥塞窗口根据网络的拥塞情况调整发送速率</li>
</ul>
</li>
</ul>
<h4 id="控制拥塞窗口变化的原则"><a href="#控制拥塞窗口变化的原则" class="headerlink" title="控制拥塞窗口变化的原则"></a>控制拥塞窗口变化的原则</h4><ul>
<li>网络们没有出现拥塞：拥塞窗口就可以再增大一些，以便把更多的分组发送出去，提高网络的利用率</li>
<li>网络出现拥塞或有可能出现拥塞：必须把拥塞窗口减小一些，以减少注入到网络中的分组数，缓解网络出现的拥塞</li>
</ul>
<h4 id="发送方判断拥塞的方法"><a href="#发送方判断拥塞的方法" class="headerlink" title="发送方判断拥塞的方法"></a>发送方判断拥塞的方法</h4><ul>
<li>超时计时器超时：网络已经出现了拥塞，网络的交付能力很差</li>
<li>收到3个重复的确认：预示网络可能会出现拥塞，网络仍有一定的交付能力</li>
</ul>
<h4 id="四种拥塞控制算法"><a href="#四种拥塞控制算法" class="headerlink" title="四种拥塞控制算法"></a>四种拥塞控制算法</h4><ul>
<li>假定接收方接受能力无限大：加法增大，乘法减少<ol>
<li>慢开始<br>  <img src="/../img/ComNetworking/153.png" srcset="/img/loading.gif" lazyload></li>
<li>拥塞避免<br><img src="/../img/ComNetworking/154.png" srcset="/img/loading.gif" lazyload></li>
<li>快重复<br><img src="/../img/ComNetworking/155.png" srcset="/img/loading.gif" lazyload></li>
<li>快恢复<br><img src="/../img/ComNetworking/156.png" srcset="/img/loading.gif" lazyload><blockquote>
<p>TCP拥塞控制举例<br><img src="/../img/ComNetworking/157.png" srcset="/img/loading.gif" lazyload><br>TCP拥塞控制流程图<br><img src="/../img/ComNetworking/158.png" srcset="/img/loading.gif" lazyload></p>
</blockquote>
</li>
</ol>
</li>
</ul>
<h3 id="拥塞控制和流量控制的区别"><a href="#拥塞控制和流量控制的区别" class="headerlink" title="拥塞控制和流量控制的区别"></a>拥塞控制和流量控制的区别</h3><p><img src="/../img/ComNetworking/159.png" srcset="/img/loading.gif" lazyload></p>
<blockquote>
<p>发送窗口的上限值<br>发送窗口的上限值&#x3D;Min[rwnd,cwnd]<br>当rwnd &lt; cwnd时，是接受方的<strong>接受能力**限制发送窗口的最大值<br>当rwnd &gt; cwnd时，是</strong>网络拥塞**限制发送窗口的最大值</p>
</blockquote>
<h2 id="TCP运输连接管理"><a href="#TCP运输连接管理" class="headerlink" title="TCP运输连接管理"></a>TCP运输连接管理</h2><h3 id="运输连接的三个阶段"><a href="#运输连接的三个阶段" class="headerlink" title="运输连接的三个阶段"></a>运输连接的三个阶段</h3><ul>
<li>TCP是面向连接的协议</li>
<li>TCP连接有<strong>三个阶段</strong><br>连接建立-&gt;数据传送-&gt;连接释放</li>
<li>TCP的连接管理就是使TCP连接的建立和释放都能正常地进行</li>
</ul>
<h3 id="TCP的连接建立-三次握手"><a href="#TCP的连接建立-三次握手" class="headerlink" title="TCP的连接建立(三次握手)"></a>TCP的连接建立(三次握手)</h3><ul>
<li>要解决三个问题<ol>
<li>要使每一方都能够确定对方的存在</li>
<li>要允许双方协商一些参数(如最大窗口值，是否使用窗口扩大选项和时间戳选项以及服务质量等)</li>
<li>能够对运输实体资源(缓存大小，连接表中的项目)进行<strong>分配</strong></li>
</ol>
</li>
<li>TCP连接的建立采用<strong>客户服务器</strong>方式<ul>
<li><strong>主动发起</strong>连接的应用进程叫做客户</li>
<li><strong>被动等待</strong>连接建立的应用进程叫做服务器</li>
</ul>
</li>
<li>TCP建立连接的过程叫做握手<ul>
<li>采用三报文握手：在客户和服务器之间交换三个TCP报文段，以防止已失效的连接请求报文段突然又传送到了，因此产生TCP连接建立错误<br><img src="/../img/ComNetworking/160.png" srcset="/img/loading.gif" lazyload></li>
</ul>
</li>
</ul>
<h3 id="TCP的连接释放-四次挥手"><a href="#TCP的连接释放-四次挥手" class="headerlink" title="TCP的连接释放(四次挥手)"></a>TCP的连接释放(四次挥手)</h3><ul>
<li>TCP的连接释放过程比较复杂</li>
<li>数据传输结束后，通信的<strong>双方</strong>都可以释放连接</li>
<li>TCP连接释放的过程是<strong>四报文段握手</strong><br><img src="/../img/ComNetworking/161.png" srcset="/img/loading.gif" lazyload></li>
<li>时间等待计时器<br><img src="/../img/ComNetworking/162.png" srcset="/img/loading.gif" lazyload></li>
<li>保活计时器<br><img src="/../img/ComNetworking/163.png" srcset="/img/loading.gif" lazyload></li>
</ul>
<blockquote>
<p>TCP四个计时器</p>
<ul>
<li>超时重传计时器</li>
<li>持续计时器(0窗口报文探测计时器)</li>
<li>时间等待计时器(2MSL关闭连接)</li>
<li>保活计时器</li>
</ul>
</blockquote>
<h1 id="应用层"><a href="#应用层" class="headerlink" title="应用层"></a>应用层</h1><h2 id="域名系统DNS"><a href="#域名系统DNS" class="headerlink" title="域名系统DNS"></a>域名系统DNS</h2><h3 id="概叙-5"><a href="#概叙-5" class="headerlink" title="概叙"></a>概叙</h3><ul>
<li>许多应用层软件经常直接使用<strong>域名系统</strong>DNS，但计算机的用户只是间接而不是直接使用域名系统</li>
<li>互联网采用层次结构的命名树作为主机的名字，并使用<strong>分布式</strong>的域名系统DNS</li>
<li>名字到IP地址的解析是有若干个域名服务器程序完成的。域名服务器在专设的结点上运行，运行该程序的机器称为<strong>域名服务器</strong></li>
</ul>
<h3 id="互联网的域名结构"><a href="#互联网的域名结构" class="headerlink" title="互联网的域名结构"></a>互联网的域名结构</h3><ul>
<li>互联网采用了层次树状结构的命名方法</li>
<li>任何一个连接在互联网上的主机或路由器，都有一个<strong>唯一</strong>的层次结构的名字，即<strong>域名</strong></li>
<li>域名对的地址结构有标号序列组成，各标号之间用<strong>点</strong>隔开<br>  ….三级域名.二级域名.顶级域名</li>
<li>各标号分别代表级别的域名</li>
<li>域名只是个<strong>逻辑</strong>概念</li>
</ul>
<h3 id="域名服务器"><a href="#域名服务器" class="headerlink" title="域名服务器"></a>域名服务器</h3><ul>
<li>一个服务器所负责管辖的范围叫做<strong>区</strong></li>
<li>各单位根据具体情况来划分自己管辖范围的区，但在一个区中的所有节点必须是能够连通的</li>
<li>每一区设置相应的<strong>权限域名服务器</strong>，用来保存该区中的所有主机的域名IP地址的映射</li>
</ul>
<p>DNS域名服务器四种类型 </p>
<ul>
<li>根域名服务器：知道所有顶级域名服务器的IP地址<ul>
<li><strong>根域名服务器共有13套装置，不是13个机器</strong></li>
</ul>
</li>
<li>顶级域名服务器：管理该顶级域名服务器注册的所有二级域名<ul>
<li>负责管理在该顶级域名服务器注册的所有二级域名</li>
</ul>
</li>
<li>权限域名服务器：负责一个区的域名服务器</li>
<li>本地域名服务器：当一个主机发出DNS查询请求时，这个查询请求报文就发给本地域名服务器</li>
</ul>
<p>工作过程：</p>
<ol>
<li>主机访问网站，先向DNS服务器发送DNS查询请求</li>
<li>如果访问的网站域名后缀跟请求的DNS服务器解析的域名不同，则向根域名服务器请求让根域名服务器找寻对应的DNS服务器并把解析结果返回(例如DNS为.com的域名服务器，主机访问.cn的网站，因此.com会向根域名服务器请求)</li>
<li>将解析后的IP地址返回给主机，主机或域名服务器进行缓存</li>
<li>主机访问IP地址来访问方网站</li>
</ol>
<p>域名解析过程：</p>
<ol>
<li>递归查询：靠别人，也就是该DNS服务器没有该结果，就向其他DNS服务器请求，例如向根域名服务器，如果根域名服务器也没有则根域名服务器向顶级域名服务器请求</li>
<li>迭代查询：靠自己，如果本地域名服务器查询不到，然后本地域名服务器就向根域名服务器发送请求，如果还没有，则由本地域名服务器向其他服务器发送请求。</li>
<li>高速缓存：为了提高查询效率，则添加了高速缓存，也就是查询过一次，则域名服务器将该查询结果进行缓存，这样就减少请求次数，需要定期更新(增加时间减少网络开销，减少时间提高域名转换的准确性)</li>
</ol>
<h2 id="DHCP动态主机配置"><a href="#DHCP动态主机配置" class="headerlink" title="DHCP动态主机配置"></a>DHCP动态主机配置</h2><p>概念：</p>
<ul>
<li>动态主机配置协议DHCP是应用层协议，使用客户&#x2F;服务器方式，客户端和服务端通过广播方式进行交互，基于UDP。</li>
<li>DHCP提供即插即用联网的机制，主机可以从服务器动态获取IP地址、子网掩码、默认网关、DNS服务器名称与IP地址</li>
<li>支持移动用户加入网络，支持在用地址续租</li>
</ul>
<p>请求过程：</p>
<ul>
<li>主机广播发送DHCP发送报文，找到网络中的DHCP服务器，服务器获得一个IP地址</li>
<li>DHCP服务器广播发送DHCP提供报文，服务器拟分配给主机一个IP地址及相关配置，先到先得</li>
<li>主机广播发送DHCP请求报文，主机向服务器请求提供IP地址</li>
<li>DHCP服务器广播发送DHCP确认报文，正式将IP地址分配给主机</li>
</ul>
<h2 id="文件传输协议FTP"><a href="#文件传输协议FTP" class="headerlink" title="文件传输协议FTP"></a>文件传输协议FTP</h2><p>概念：</p>
<ul>
<li>FTP协议提供不同种类主机系统(硬、软件体系等都可以不同)之间的文件传输能力</li>
<li>FTP是基于客户&#x2F;服务器(C&#x2F;S)的协议，基于TCP进行传输的</li>
<li>用户通过一个客户机程序连接至远程计算机上运行的服务器程序</li>
<li>依照FTP协议提供服务，进行文件传送的计算机就是FTP服务器</li>
<li>连接FTP服务器，遵循FTP协议与服务器传送文件的电脑就是FTP客户端</li>
</ul>
<p>FTP使用两个TCP连接：<br><img src="/../img/ComNetworking/164.png" srcset="/img/loading.gif" lazyload></p>
<ul>
<li>TCP控制连接：传送文件操作命令(删除、下载、上传等)，使用服务器21端口，连接始终保持</li>
<li>TCP数据连接：用来传输数据的(下载、上传等)，连接保持一会，有两种模式<blockquote>
<p>主动模式：服务端从20端口主动向客户端发起连接。如果服务器有防火墙需要打开21和20端口<br>被动模式：**服务端在指定范围内的某个端口被动等待客户端发起连接(端口&gt;1024)**。如果服务器有防火墙只打开21和20端口，FTP不能下载和上传数据</p>
</blockquote>
</li>
</ul>
<p>FTP传输模式：</p>
<ul>
<li>文本模式：ASCII模式，以文本序列传输数据</li>
<li>二进制模式：Binary模式，以二进制序列传输数据</li>
</ul>
<h2 id="远程终端协议TELNET"><a href="#远程终端协议TELNET" class="headerlink" title="远程终端协议TELNET"></a>远程终端协议TELNET</h2><p>概念：</p>
<ul>
<li>telnet是基于TCP的远程终端协议，默认端口为23</li>
<li>用户用TELNET就可在其所在地通过TCP连接注册(即登录)到远地的另一台主机上(使用主机名或IP地址)</li>
<li>基于客户服务器方式的协议，传输的格式使用NVT</li>
</ul>
<h2 id="超文本传输协议HTTP"><a href="#超文本传输协议HTTP" class="headerlink" title="超文本传输协议HTTP"></a>超文本传输协议HTTP</h2><p>概念：</p>
<ul>
<li><p>HTTP协议定义了浏览器(万维网客户进程)怎样向万维网服务器请求万维网文档，以及服务器怎样把文档传送给浏览器<br>具体过程：<br><img src="/../img/ComNetworking/165.png" srcset="/img/loading.gif" lazyload></p>
<ol>
<li>浏览器分析URL</li>
<li>浏览器向DNS请求解析IP地址</li>
<li>DNS解析出IP地址</li>
<li>浏览器与服务器建立TCP连接</li>
<li>浏览器发出取文件命令</li>
<li>服务器响应</li>
<li>释放TCP连接</li>
<li>浏览器显示</li>
</ol>
</li>
</ul>
<p>特点：</p>
<ul>
<li>http 1.0是无状态的，http 1.1是持续连接的</li>
<li>HTTP采用TCP作为传输层协议，但HTTP协议本身是无连接的(通信双方在交换HTTP报文之前不需要先建立HTTP连接)</li>
</ul>
<p>HTTP的连接方式：</p>
<ol>
<li>非持久连接<br><img src="/../img/ComNetworking/166.png" srcset="/img/loading.gif" lazyload></li>
<li>持久连接<blockquote>
<p>两种工作方式：<br>非流水线方式：收到响应后再发出请求<br>流水线方式：连续发送，只花费RTT时间</p>
</blockquote>
</li>
</ol>
<p><img src="/../img/ComNetworking/167.png" srcset="/img/loading.gif" lazyload></p>
<p><strong>HTTP报文结构：</strong></p>
<ul>
<li>HTTP报文是面向文本的，因此在报文中的每一个字段都是一些ASCII码串</li>
</ul>
<ol>
<li>请求报文<br><img src="/../img/ComNetworking/168.png" srcset="/img/loading.gif" lazyload></li>
<li>响应报文<br><img src="/../img/ComNetworking/169.png" srcset="/img/loading.gif" lazyload></li>
</ol>
<h2 id="电子邮件"><a href="#电子邮件" class="headerlink" title="电子邮件"></a>电子邮件</h2><p><strong>电子邮件系统组成结构：</strong><br><img src="/../img/ComNetworking/170.png" srcset="/img/loading.gif" lazyload></p>
<ul>
<li>用户代理就是用户与电子邮件系统的接口，是电子邮件客户端软件。<br>简单邮件传送协议SMTP：</li>
<li>SMTP规定了在两个相互通信的SMTP进程之间应如何交换信息</li>
<li>负责发送邮件的SMTP进程就是SMTP客户，负责接收邮件的进程就是SMTP服务器</li>
<li>SMTP规定了14条命令(几个字母)和21种应答信息(三位数字代码+简单文字说明)</li>
<li>SMTP协议是基于TCP连接以及C&#x2F;S方式的协议，端口号为25<br><img src="/../img/ComNetworking/171.png" srcset="/img/loading.gif" lazyload></li>
</ul>
<p>SMTP缺点：</p>
<ol>
<li>SMTP不能传送可执行文件或者其他二进制对象</li>
<li>SMTP仅限于传送7位ASCII码，不能传送其他非英语国家的文字</li>
<li>SMTP服务器会拒绝超过一定长度的邮件</li>
</ol>
<p>MIME：</p>
<ul>
<li>可以将邮件传送的附件类型码放进SMTP协议数据报中</li>
<li>使得接收用户浏览器知道用什么插件解析<br><img src="/../img/ComNetworking/172.png" srcset="/img/loading.gif" lazyload></li>
</ul>
<p>邮局协议POP3：</p>
<ul>
<li>基于TCP连接和C&#x2F;S方式的协议，端口号110</li>
<li>用于接收邮件的协议</li>
<li>工作方式：1.下载并保存(在服务器)，2.下载并删除</li>
</ul>
<p>网际报文存取协议IMAP：</p>
<ul>
<li>当用户PC上的IMAP客户程序打开IMAP服务器的邮箱时，用户可以看到邮箱的首部，若用户需要打开某个邮件，该邮件才上传到用户的计算机上</li>
<li>IMAP可以让用户在不同的地方使用不同的计算机随时上网阅读处理邮件，还允许只读邮件中的某一个部分(先看正文，有wifi的时候再下载附件)</li>
</ul>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/" class="print-no-link">#网络编程</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>计算机网络</div>
      <div>http://example.com/2024/10/28/ComNetworking/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>X-994</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2024年10月28日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-cc-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2024/10/15/os-b/" title="计算机操作系统">
                        <span class="hidden-mobile">计算机操作系统</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  
  
    <article id="comments" lazyload>
      
  <div id="valine"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#valine', function() {
      Fluid.utils.createScript('https://lib.baomitu.com/valine/1.5.1/Valine.min.js', function() {
        var options = Object.assign(
          {"appId":"YhmdYh8xooZMmP5AVRg8vq7k-MdYXbMMI","appKey":"s4Nu6SbkKXU7Mjoi3H1Xov8u","path":"window.location.pathname","placeholder":null,"avatar":"retro","meta":["nick","mail","link"],"requiredFields":[],"pageSize":10,"lang":"zh-CN","highlight":false,"recordIP":false,"serverURLs":"https://yhmdyh8x.api.lncldglobal.com","emojiCDN":null,"emojiMaps":null,"enableQQ":false},
          {
            el: "#valine",
            path: window.location.pathname
          }
        )
        new Valine(options);
        Fluid.utils.waitElementVisible('#valine .vcontent', () => {
          var imgSelector = '#valine .vcontent img:not(.vemoji)';
          Fluid.plugins.imageCaption(imgSelector);
          Fluid.plugins.fancyBox(imgSelector);
        })
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


    </article>
  


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>




  
<script src="/js/scrollAnimation.js"></script>



<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
